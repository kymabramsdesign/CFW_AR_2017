/* jQuery countTo Plugin */
!function(t){function e(t,e){return t.toFixed(e.decimals)}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,this.dataOptions(),i),this.init()};o.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:e,onUpdate:null,onComplete:null},o.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},o.prototype.dataOptions=function(){var t={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},e=Object.keys(t);for(var o in e){var i=e[o];"undefined"==typeof t[i]&&delete t[i]}return t},o.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete&&this.options.onComplete.call(this.$element,this.value))},o.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},o.prototype.restart=function(){this.stop(),this.init(),this.start()},o.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},o.prototype.stop=function(){this.interval&&clearInterval(this.interval)},o.prototype.toggle=function(){this.interval?this.stop():this.start()},t.fn.countTo=function(e){return this.each(function(){var i=t(this),n=i.data("countTo"),s=!n||"object"==typeof e,r="object"==typeof e?e:{},a="string"==typeof e?e:"start";s&&(n&&n.stop(),i.data("countTo",n=new o(this,r))),n[a].call(n)})}}(jQuery);


/*
 * jQuery Superfish Menu Plugin - v1.7.4
 * Copyright (c) 2013 Joel Birch
 *
 * Dual licensed under the MIT and GPL licenses:
 *	http://www.opensource.org/licenses/mit-license.php
 *	http://www.gnu.org/licenses/gpl.html
 */

(function (e) { "use strict"; var s = function () { var s = { bcClass: "sf-breadcrumb", menuClass: "sf-js-enabled", anchorClass: "sf-with-ul", menuArrowClass: "sf-arrows" }, o = function () { var s = /iPhone|iPad|iPod/i.test(navigator.userAgent); return s && e(window).load(function () { e("body").children().on("click", e.noop) }), s }(), n = function () { var e = document.documentElement.style; return "behavior" in e && "fill" in e && /iemobile/i.test(navigator.userAgent) }(), t = function (e, o) { var n = s.menuClass; o.cssArrows && (n += " " + s.menuArrowClass), e.toggleClass(n) }, i = function (o, n) { return o.find("li." + n.pathClass).slice(0, n.pathLevels).addClass(n.hoverClass + " " + s.bcClass).filter(function () { return e(this).children(n.popUpSelector).hide().show().length }).removeClass(n.pathClass) }, r = function (e) { e.children("a").toggleClass(s.anchorClass) }, a = function (e) { var s = e.css("ms-touch-action"); s = "pan-y" === s ? "auto" : "pan-y", e.css("ms-touch-action", s) }, l = function (s, t) { var i = "li:has(" + t.popUpSelector + ")"; e.fn.hoverIntent && !t.disableHI ? s.hoverIntent(u, p, i) : s.on("mouseenter.superfish", i, u).on("mouseleave.superfish", i, p); var r = "MSPointerDown.superfish"; o || (r += " touchend.superfish"), n && (r += " mousedown.superfish"), s.on("focusin.superfish", "li", u).on("focusout.superfish", "li", p).on(r, "a", t, h) }, h = function (s) { var o = e(this), n = o.siblings(s.data.popUpSelector); n.length > 0 && n.is(":hidden") && (o.one("click.superfish", !1), "MSPointerDown" === s.type ? o.trigger("focus") : e.proxy(u, o.parent("li"))()) }, u = function () { var s = e(this), o = d(s); clearTimeout(o.sfTimer), s.siblings().superfish("hide").end().superfish("show") }, p = function () { var s = e(this), n = d(s); o ? e.proxy(f, s, n)() : (clearTimeout(n.sfTimer), n.sfTimer = setTimeout(e.proxy(f, s, n), n.delay)) }, f = function (s) { s.retainPath = e.inArray(this[0], s.$path) > -1, this.superfish("hide"), this.parents("." + s.hoverClass).length || (s.onIdle.call(c(this)), s.$path.length && e.proxy(u, s.$path)()) }, c = function (e) { return e.closest("." + s.menuClass) }, d = function (e) { return c(e).data("sf-options") }; return { hide: function (s) { if (this.length) { var o = this, n = d(o); if (!n) return this; var t = n.retainPath === !0 ? n.$path : "", i = o.find("li." + n.hoverClass).add(this).not(t).removeClass(n.hoverClass).children(n.popUpSelector), r = n.speedOut; s && (i.show(), r = 0), n.retainPath = !1, n.onBeforeHide.call(i), i.stop(!0, !0).animate(n.animationOut, r, function () { var s = e(this); n.onHide.call(s) }) } return this }, show: function () { var e = d(this); if (!e) return this; var s = this.addClass(e.hoverClass), o = s.children(e.popUpSelector); return e.onBeforeShow.call(o), o.stop(!0, !0).animate(e.animation, e.speed, function () { e.onShow.call(o) }), this }, destroy: function () { return this.each(function () { var o, n = e(this), i = n.data("sf-options"); return i ? (o = n.find(i.popUpSelector).parent("li"), clearTimeout(i.sfTimer), t(n, i), r(o), a(n), n.off(".superfish").off(".hoverIntent"), o.children(i.popUpSelector).attr("style", function (e, s) { return s.replace(/display[^;]+;?/g, "") }), i.$path.removeClass(i.hoverClass + " " + s.bcClass).addClass(i.pathClass), n.find("." + i.hoverClass).removeClass(i.hoverClass), i.onDestroy.call(n), n.removeData("sf-options"), void 0) : !1 }) }, init: function (o) { return this.each(function () { var n = e(this); if (n.data("sf-options")) return !1; var h = e.extend({}, e.fn.superfish.defaults, o), u = n.find(h.popUpSelector).parent("li"); h.$path = i(n, h), n.data("sf-options", h), t(n, h), r(u), a(n), l(n, h), u.not("." + s.bcClass).superfish("hide", !0), h.onInit.call(this) }) } } }(); e.fn.superfish = function (o) { return s[o] ? s[o].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof o && o ? e.error("Method " + o + " does not exist on jQuery.fn.superfish") : s.init.apply(this, arguments) }, e.fn.superfish.defaults = { popUpSelector: "ul,.sf-mega", hoverClass: "sfHover", pathClass: "overrideThisToUse", pathLevels: 1, delay: 800, animation: { opacity: "show" }, animationOut: { opacity: "hide" }, speed: "normal", speedOut: "fast", cssArrows: !0, disableHI: !1, onInit: e.noop, onBeforeShow: e.noop, onShow: e.noop, onBeforeHide: e.noop, onHide: e.noop, onIdle: e.noop, onDestroy: e.noop }, e.fn.extend({ hideSuperfishUl: s.hide, showSuperfishUl: s.show }) })(jQuery);


/* Parallax */
(function (e) { var t = e(window); var n = t.height(); t.resize(function () { n = t.height() }); e.fn.parallax = function (r, i, s) { function l() { o.each(function () { a = o.offset().top }); if (s) { u = function (e) { return e.outerHeight(true) } } else { u = function (e) { return e.height() } } if (arguments.length < 1 || r === null) r = "50%"; if (arguments.length < 2 || i === null) i = .5; if (arguments.length < 3 || s === null) s = true; var f = t.scrollTop(); o.each(function () { var t = e(this); var s = t.offset().top; var l = u(t); if (s + l < f || s > f + n) { return } o.css("backgroundPosition", r + " " + Math.round((a - f) * i) + "px") }) } var o = e(this); var u; var a; var f = 0; t.bind("scroll", l).resize(l); l() } })(jQuery);

/*
 * jQuery.appear
 * https://github.com/bas2k/jquery.appear/
 * http://code.google.com/p/jquery-appear/
 * http://bas2k.ru/
 *
 * Copyright (c) 2009 Michael Hixson
 * Copyright (c) 2012-2014 Alexander Brovikov
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 */
(function($) {
    $.fn.appear = function(fn, options) {

        var settings = $.extend({

            //arbitrary data to pass to fn
            data: undefined,

            //call fn only on the first appear?
            one: true,

            // X & Y accuracy
            accX: 0,
            accY: 0

        }, options);

        return this.each(function() {

            var t = $(this);

            //whether the element is currently visible
            t.appeared = false;

            if (!fn) {

                //trigger the custom event
                t.trigger('appear', settings.data);
                return;
            }

            var w = $(window);

            //fires the appear event when appropriate
            var check = function() {

                //is the element hidden?
                if (!t.is(':visible')) {

                    //it became hidden
                    t.appeared = false;
                    return;
                }

                //is the element inside the visible window?
                var a = w.scrollLeft();
                var b = w.scrollTop();
                var o = t.offset();
                var x = o.left;
                var y = o.top;

                var ax = settings.accX;
                var ay = settings.accY;
                var th = t.height();
                var wh = w.height();
                var tw = t.width();
                var ww = w.width();

                if (y + th + ay >= b &&
                    y <= b + wh + ay &&
                    x + tw + ax >= a &&
                    x <= a + ww + ax) {

                    //trigger the custom event
                    if (!t.appeared) t.trigger('appear', settings.data);

                } else {

                    //it scrolled out of view
                    t.appeared = false;
                }
            };

            //create a modified fn with some additional logic
            var modifiedFn = function() {

                //mark the element as visible
                t.appeared = true;

                //is this supposed to happen only once?
                if (settings.one) {

                    //remove the check
                    w.unbind('scroll', check);
                    var i = $.inArray(check, $.fn.appear.checks);
                    if (i >= 0) $.fn.appear.checks.splice(i, 1);
                }

                //trigger the original fn
                fn.apply(this, arguments);
            };

            //bind the modified fn to the element
            if (settings.one) t.one('appear', settings.data, modifiedFn);
            else t.bind('appear', settings.data, modifiedFn);

            //check whenever the window scrolls
            w.scroll(check);

            //check whenever the dom changes
            $.fn.appear.checks.push(check);

            //check now
            (check)();
        });
    };

    //keep a queue of appearance checks
    $.extend($.fn.appear, {

        checks: [],
        timeout: null,

        //process the queue
        checkAll: function() {
            var length = $.fn.appear.checks.length;
            if (length > 0) while (length--) ($.fn.appear.checks[length])();
        },

        //check the queue asynchronously
        run: function() {
            if ($.fn.appear.timeout) clearTimeout($.fn.appear.timeout);
            $.fn.appear.timeout = setTimeout($.fn.appear.checkAll, 20);
        }
    });

    //run checks when these methods are called
    $.each(['append', 'prepend', 'after', 'before', 'attr',
        'removeAttr', 'addClass', 'removeClass', 'toggleClass',
        'remove', 'css', 'show', 'hide'], function(i, n) {
        var old = $.fn[n];
        if (old) {
            $.fn[n] = function() {
                var r = old.apply(this, arguments);
                $.fn.appear.run();
                return r;
            }
        }
    });

})(jQuery);



/* Flex Slider */
/*
 * jQuery FlexSlider v2.2.2
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
(function (d) {
    d.flexslider = function (g, l) {
        var a = d(g); a.vars = d.extend({}, d.flexslider.defaults, l); var e = a.vars.namespace, v = window.navigator && window.navigator.msPointerEnabled && window.MSGesture, t = ("ontouchstart" in window || v || window.DocumentTouch && document instanceof DocumentTouch) && a.vars.touch, m = "", u, p = "vertical" === a.vars.direction, n = a.vars.reverse, h = 0 < a.vars.itemWidth, r = "fade" === a.vars.animation, q = "" !== a.vars.asNavFor, c = {}; d.data(g, "flexslider", a); c = {
            init: function () {
                a.animating = !1; a.currentSlide = parseInt(a.vars.startAt ?
                a.vars.startAt : 0, 10); isNaN(a.currentSlide) && (a.currentSlide = 0); a.animatingTo = a.currentSlide; a.atEnd = 0 === a.currentSlide || a.currentSlide === a.last; a.containerSelector = a.vars.selector.substr(0, a.vars.selector.search(" ")); a.slides = d(a.vars.selector, a); a.container = d(a.containerSelector, a); a.count = a.slides.length; a.syncExists = 0 < d(a.vars.sync).length; "slide" === a.vars.animation && (a.vars.animation = "swing"); a.prop = p ? "top" : "marginLeft"; a.args = {}; a.manualPause = !1; a.stopped = !1; a.started = !1; a.startTimeout = null;
                a.transitions = !a.vars.video && !r && a.vars.useCSS && function () { var b = document.createElement("div"), f = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"], k; for (k in f) if (void 0 !== b.style[f[k]]) return a.pfx = f[k].replace("Perspective", "").toLowerCase(), a.prop = "-" + a.pfx + "-transform", !0; return !1 }(); "" !== a.vars.controlsContainer && (a.controlsContainer = 0 < d(a.vars.controlsContainer).length && d(a.vars.controlsContainer)); "" !== a.vars.manualControls && (a.manualControls = 0 < d(a.vars.manualControls).length &&
                d(a.vars.manualControls)); a.vars.randomize && (a.slides.sort(function () { return Math.round(Math.random()) - 0.5 }), a.container.empty().append(a.slides)); a.doMath(); a.setup("init"); a.vars.controlNav && c.controlNav.setup(); a.vars.directionNav && c.directionNav.setup(); a.vars.keyboard && (1 === d(a.containerSelector).length || a.vars.multipleKeyboard) && d(document).bind("keyup", function (b) { b = b.keyCode; a.animating || 39 !== b && 37 !== b || (b = 39 === b ? a.getTarget("next") : 37 === b ? a.getTarget("prev") : !1, a.flexAnimate(b, a.vars.pauseOnAction)) });
                a.vars.mousewheel && a.bind("mousewheel", function (b, f, k, d) { b.preventDefault(); b = 0 > f ? a.getTarget("next") : a.getTarget("prev"); a.flexAnimate(b, a.vars.pauseOnAction) }); a.vars.pausePlay && c.pausePlay.setup(); a.vars.slideshow && a.vars.pauseInvisible && c.pauseInvisible.init(); a.vars.slideshow && (a.vars.pauseOnHover && a.hover(function () { a.manualPlay || a.manualPause || a.pause() }, function () { a.manualPause || a.manualPlay || a.stopped || a.play() }), a.vars.pauseInvisible && c.pauseInvisible.isHidden() || (0 < a.vars.initDelay ? a.startTimeout =
                setTimeout(a.play, a.vars.initDelay) : a.play())); q && c.asNav.setup(); t && a.vars.touch && c.touch(); (!r || r && a.vars.smoothHeight) && d(window).bind("resize orientationchange focus", c.resize); a.find("img").attr("draggable", "false"); setTimeout(function () { a.vars.start(a) }, 200)
            }, asNav: {
                setup: function () {
                    a.asNav = !0; a.animatingTo = Math.floor(a.currentSlide / a.move); a.currentItem = a.currentSlide; a.slides.removeClass(e + "active-slide").eq(a.currentItem).addClass(e + "active-slide"); if (v) g._slider = a, a.slides.each(function () {
                        this._gesture =
                        new MSGesture; this._gesture.target = this; this.addEventListener("MSPointerDown", function (a) { a.preventDefault(); a.currentTarget._gesture && a.currentTarget._gesture.addPointer(a.pointerId) }, !1); this.addEventListener("MSGestureTap", function (b) { b.preventDefault(); b = d(this); var f = b.index(); d(a.vars.asNavFor).data("flexslider").animating || b.hasClass("active") || (a.direction = a.currentItem < f ? "next" : "prev", a.flexAnimate(f, a.vars.pauseOnAction, !1, !0, !0)) })
                    }); else a.slides.on("click touchend MSPointerUp", function (b) {
                        b.preventDefault();
                        b = d(this); var f = b.index(); 0 >= b.offset().left - d(a).scrollLeft() && b.hasClass(e + "active-slide") ? a.flexAnimate(a.getTarget("prev"), !0) : d(a.vars.asNavFor).data("flexslider").animating || b.hasClass(e + "active-slide") || (a.direction = a.currentItem < f ? "next" : "prev", a.flexAnimate(f, a.vars.pauseOnAction, !1, !0, !0))
                    })
                }
            }, controlNav: {
                setup: function () { a.manualControls ? c.controlNav.setupManual() : c.controlNav.setupPaging() }, setupPaging: function () {
                    var b = 1, f, k; a.controlNavScaffold = d('<ol class="' + e + "control-nav " + e + ("thumbnails" ===
                    a.vars.controlNav ? "control-thumbs" : "control-paging") + '"></ol>'); if (1 < a.pagingCount) for (var g = 0; g < a.pagingCount; g++) k = a.slides.eq(g), f = "thumbnails" === a.vars.controlNav ? '<img src="' + k.attr("data-thumb") + '"/>' : "<a>" + b + "</a>", "thumbnails" === a.vars.controlNav && !0 === a.vars.thumbCaptions && (k = k.attr("data-thumbcaption"), "" != k && void 0 != k && (f += '<span class="' + e + 'caption">' + k + "</span>")), a.controlNavScaffold.append("<li>" + f + "</li>"), b++; a.controlsContainer ? d(a.controlsContainer).append(a.controlNavScaffold) :
                    a.append(a.controlNavScaffold); c.controlNav.set(); c.controlNav.active(); a.controlNavScaffold.delegate("a, img", "click touchend MSPointerUp", function (b) { b.preventDefault(); if ("" === m || m === b.type) { var f = d(this), k = a.controlNav.index(f); f.hasClass(e + "active") || (a.direction = k > a.currentSlide ? "next" : "prev", a.flexAnimate(k, a.vars.pauseOnAction)) } "" === m && (m = b.type); c.setToClearWatchedEvent() })
                }, setupManual: function () {
                    a.controlNav = a.manualControls; c.controlNav.active(); a.controlNav.bind("click touchend MSPointerUp",
                    function (b) { b.preventDefault(); if ("" === m || m === b.type) { var f = d(this), k = a.controlNav.index(f); f.hasClass(e + "active") || (k > a.currentSlide ? a.direction = "next" : a.direction = "prev", a.flexAnimate(k, a.vars.pauseOnAction)) } "" === m && (m = b.type); c.setToClearWatchedEvent() })
                }, set: function () { a.controlNav = d("." + e + "control-nav li " + ("thumbnails" === a.vars.controlNav ? "img" : "a"), a.controlsContainer ? a.controlsContainer : a) }, active: function () { a.controlNav.removeClass(e + "active").eq(a.animatingTo).addClass(e + "active") }, update: function (b,
                f) { 1 < a.pagingCount && "add" === b ? a.controlNavScaffold.append(d("<li><a>" + a.count + "</a></li>")) : 1 === a.pagingCount ? a.controlNavScaffold.find("li").remove() : a.controlNav.eq(f).closest("li").remove(); c.controlNav.set(); 1 < a.pagingCount && a.pagingCount !== a.controlNav.length ? a.update(f, b) : c.controlNav.active() }
            }, directionNav: {
                setup: function () {
                    var b = d('<ul class="' + e + 'direction-nav"><li><a class="' + e + 'prev" href="#">' + a.vars.prevText + '</a></li><li><a class="' + e + 'next" href="#">' + a.vars.nextText + "</a></li></ul>");
                    a.controlsContainer ? (d(a.controlsContainer).append(b), a.directionNav = d("." + e + "direction-nav li a", a.controlsContainer)) : (a.append(b), a.directionNav = d("." + e + "direction-nav li a", a)); c.directionNav.update(); a.directionNav.bind("click touchend MSPointerUp", function (b) { b.preventDefault(); var k; if ("" === m || m === b.type) k = d(this).hasClass(e + "next") ? a.getTarget("next") : a.getTarget("prev"), a.flexAnimate(k, a.vars.pauseOnAction); "" === m && (m = b.type); c.setToClearWatchedEvent() })
                }, update: function () {
                    var b = e + "disabled";
                    1 === a.pagingCount ? a.directionNav.addClass(b).attr("tabindex", "-1") : a.vars.animationLoop ? a.directionNav.removeClass(b).removeAttr("tabindex") : 0 === a.animatingTo ? a.directionNav.removeClass(b).filter("." + e + "prev").addClass(b).attr("tabindex", "-1") : a.animatingTo === a.last ? a.directionNav.removeClass(b).filter("." + e + "next").addClass(b).attr("tabindex", "-1") : a.directionNav.removeClass(b).removeAttr("tabindex")
                }
            }, pausePlay: {
                setup: function () {
                    var b = d('<div class="' + e + 'pauseplay"><a></a></div>'); a.controlsContainer ?
                    (a.controlsContainer.append(b), a.pausePlay = d("." + e + "pauseplay a", a.controlsContainer)) : (a.append(b), a.pausePlay = d("." + e + "pauseplay a", a)); c.pausePlay.update(a.vars.slideshow ? e + "pause" : e + "play"); a.pausePlay.bind("click touchend MSPointerUp", function (b) { b.preventDefault(); if ("" === m || m === b.type) d(this).hasClass(e + "pause") ? (a.manualPause = !0, a.manualPlay = !1, a.pause()) : (a.manualPause = !1, a.manualPlay = !0, a.play()); "" === m && (m = b.type); c.setToClearWatchedEvent() })
                }, update: function (b) {
                    "play" === b ? a.pausePlay.removeClass(e +
                    "pause").addClass(e + "play").html(a.vars.playText) : a.pausePlay.removeClass(e + "play").addClass(e + "pause").html(a.vars.pauseText)
                }
            }, touch: function () {
                var b, f, k, d, c, e, m = !1, l = 0, q = 0, s = 0; if (v) {
                    g.style.msTouchAction = "none"; g._gesture = new MSGesture; g._gesture.target = g; g.addEventListener("MSPointerDown", t, !1); g._slider = a; g.addEventListener("MSGestureChange", u, !1); g.addEventListener("MSGestureEnd", y, !1); var t = function (b) {
                        b.stopPropagation(); a.animating ? b.preventDefault() : (a.pause(), g._gesture.addPointer(b.pointerId),
                        s = 0, d = p ? a.h : a.w, e = Number(new Date), k = h && n && a.animatingTo === a.last ? 0 : h && n ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : h && a.currentSlide === a.last ? a.limit : h ? (a.itemW + a.vars.itemMargin) * a.move * a.currentSlide : n ? (a.last - a.currentSlide + a.cloneOffset) * d : (a.currentSlide + a.cloneOffset) * d)
                    }, u = function (a) {
                        a.stopPropagation(); var b = a.target._slider; if (b) {
                            var f = -a.translationX, h = -a.translationY; c = s += p ? h : f; m = p ? Math.abs(s) < Math.abs(-f) : Math.abs(s) < Math.abs(-h); if (a.detail === a.MSGESTURE_FLAG_INERTIA) setImmediate(function () { g._gesture.stop() });
                            else if (!m || 500 < Number(new Date) - e) a.preventDefault(), !r && b.transitions && (b.vars.animationLoop || (c = s / (0 === b.currentSlide && 0 > s || b.currentSlide === b.last && 0 < s ? Math.abs(s) / d + 2 : 1)), b.setProps(k + c, "setTouch"))
                        }
                    }, y = function (a) {
                        a.stopPropagation(); if (a = a.target._slider) {
                            if (a.animatingTo === a.currentSlide && !m && null !== c) {
                                var g = n ? -c : c, h = 0 < g ? a.getTarget("next") : a.getTarget("prev"); a.canAdvance(h) && (550 > Number(new Date) - e && 50 < Math.abs(g) || Math.abs(g) > d / 2) ? a.flexAnimate(h, a.vars.pauseOnAction) : r || a.flexAnimate(a.currentSlide,
                                a.vars.pauseOnAction, !0)
                            } k = c = f = b = null; s = 0
                        }
                    }
                } else {
                    g.addEventListener("touchstart", z, !1); var z = function (c) {
                        if (a.animating) c.preventDefault(); else if (window.navigator.msPointerEnabled || 1 === c.touches.length) a.pause(), d = p ? a.h : a.w, e = Number(new Date), l = c.touches[0].pageX, q = c.touches[0].pageY, k = h && n && a.animatingTo === a.last ? 0 : h && n ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : h && a.currentSlide === a.last ? a.limit : h ? (a.itemW + a.vars.itemMargin) * a.move * a.currentSlide : n ? (a.last - a.currentSlide + a.cloneOffset) *
                                d : (a.currentSlide + a.cloneOffset) * d, b = p ? q : l, f = p ? l : q, g.addEventListener("touchmove", w, !1), g.addEventListener("touchend", x, !1)
                    }, w = function (g) { l = g.touches[0].pageX; q = g.touches[0].pageY; c = p ? b - q : b - l; m = p ? Math.abs(c) < Math.abs(l - f) : Math.abs(c) < Math.abs(q - f); if (!m || 500 < Number(new Date) - e) g.preventDefault(), !r && a.transitions && (a.vars.animationLoop || (c /= 0 === a.currentSlide && 0 > c || a.currentSlide === a.last && 0 < c ? Math.abs(c) / d + 2 : 1), a.setProps(k + c, "setTouch")) }, x = function (h) {
                        g.removeEventListener("touchmove", w, !1); if (a.animatingTo ===
                        a.currentSlide && !m && null !== c) { h = n ? -c : c; var l = 0 < h ? a.getTarget("next") : a.getTarget("prev"); a.canAdvance(l) && (550 > Number(new Date) - e && 50 < Math.abs(h) || Math.abs(h) > d / 2) ? a.flexAnimate(l, a.vars.pauseOnAction) : r || a.flexAnimate(a.currentSlide, a.vars.pauseOnAction, !0) } g.removeEventListener("touchend", x, !1); k = c = f = b = null
                    }
                }
            }, resize: function () {
                !a.animating && a.is(":visible") && (h || a.doMath(), r ? c.smoothHeight() : h ? (a.slides.width(a.computedW), a.update(a.pagingCount), a.setProps()) : p ? (a.viewport.height(a.h), a.setProps(a.h,
                "setTotal")) : (a.vars.smoothHeight && c.smoothHeight(), a.newSlides.width(a.computedW), a.setProps(a.computedW, "setTotal")))
            }, smoothHeight: function (b) { if (!p || r) { var f = r ? a : a.viewport; b ? f.animate({ height: a.slides.eq(a.animatingTo).height() }, b) : f.height(a.slides.eq(a.animatingTo).height()) } }, sync: function (b) { var f = d(a.vars.sync).data("flexslider"), c = a.animatingTo; switch (b) { case "animate": f.flexAnimate(c, a.vars.pauseOnAction, !1, !0); break; case "play": f.playing || f.asNav || f.play(); break; case "pause": f.pause() } },
            uniqueID: function (a) { a.find("[id]").each(function () { var a = d(this); a.attr("id", a.attr("id") + "_clone") }); return a }, pauseInvisible: {
                visProp: null, init: function () {
                    var b = ["webkit", "moz", "ms", "o"]; if ("hidden" in document) return "hidden"; for (var f = 0; f < b.length; f++) b[f] + "Hidden" in document && (c.pauseInvisible.visProp = b[f] + "Hidden"); c.pauseInvisible.visProp && (b = c.pauseInvisible.visProp.replace(/[H|h]idden/, "") + "visibilitychange", document.addEventListener(b, function () {
                        c.pauseInvisible.isHidden() ? a.startTimeout ?
                        clearTimeout(a.startTimeout) : a.pause() : a.started ? a.play() : 0 < a.vars.initDelay ? setTimeout(a.play, a.vars.initDelay) : a.play()
                    }))
                }, isHidden: function () { return document[c.pauseInvisible.visProp] || !1 }
            }, setToClearWatchedEvent: function () { clearTimeout(u); u = setTimeout(function () { m = "" }, 3E3) }
        }; a.flexAnimate = function (b, f, k, g, m) {
            a.vars.animationLoop || b === a.currentSlide || (a.direction = b > a.currentSlide ? "next" : "prev"); q && 1 === a.pagingCount && (a.direction = a.currentItem < b ? "next" : "prev"); if (!a.animating && (a.canAdvance(b,
            m) || k) && a.is(":visible")) {
                if (q && g) if (k = d(a.vars.asNavFor).data("flexslider"), a.atEnd = 0 === b || b === a.count - 1, k.flexAnimate(b, !0, !1, !0, m), a.direction = a.currentItem < b ? "next" : "prev", k.direction = a.direction, Math.ceil((b + 1) / a.visible) - 1 !== a.currentSlide && 0 !== b) a.currentItem = b, a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), b = Math.floor(b / a.visible); else return a.currentItem = b, a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), !1; a.animating = !0; a.animatingTo = b;
                f && a.pause(); a.vars.before(a); a.syncExists && !m && c.sync("animate"); a.vars.controlNav && c.controlNav.active(); h || a.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"); a.atEnd = 0 === b || b === a.last; a.vars.directionNav && c.directionNav.update(); b === a.last && (a.vars.end(a), a.vars.animationLoop || a.pause()); if (r) t ? (a.slides.eq(a.currentSlide).css({ opacity: 0, zIndex: 1 }), a.slides.eq(b).css({ opacity: 1, zIndex: 2 }), a.wrapup(l)) : (a.slides.eq(a.currentSlide).css({ zIndex: 1 }).animate({ opacity: 0 }, a.vars.animationSpeed,
                a.vars.easing), a.slides.eq(b).css({ zIndex: 2 }).animate({ opacity: 1 }, a.vars.animationSpeed, a.vars.easing, a.wrapup)); else {
                    var l = p ? a.slides.filter(":first").height() : a.computedW; h ? (b = a.vars.itemMargin, b = (a.itemW + b) * a.move * a.animatingTo, b = b > a.limit && 1 !== a.visible ? a.limit : b) : b = 0 === a.currentSlide && b === a.count - 1 && a.vars.animationLoop && "next" !== a.direction ? n ? (a.count + a.cloneOffset) * l : 0 : a.currentSlide === a.last && 0 === b && a.vars.animationLoop && "prev" !== a.direction ? n ? 0 : (a.count + 1) * l : n ? (a.count - 1 - b + a.cloneOffset) *
                        l : (b + a.cloneOffset) * l; a.setProps(b, "", a.vars.animationSpeed); a.transitions ? (a.vars.animationLoop && a.atEnd || (a.animating = !1, a.currentSlide = a.animatingTo), a.container.unbind("webkitTransitionEnd transitionend"), a.container.bind("webkitTransitionEnd transitionend", function () { a.wrapup(l) })) : a.container.animate(a.args, a.vars.animationSpeed, a.vars.easing, function () { a.wrapup(l) })
                } a.vars.smoothHeight && c.smoothHeight(a.vars.animationSpeed)
            }
        }; a.wrapup = function (b) {
            r || h || (0 === a.currentSlide && a.animatingTo ===
            a.last && a.vars.animationLoop ? a.setProps(b, "jumpEnd") : a.currentSlide === a.last && 0 === a.animatingTo && a.vars.animationLoop && a.setProps(b, "jumpStart")); a.animating = !1; a.currentSlide = a.animatingTo; a.vars.after(a)
        }; a.animateSlides = function () { a.animating || a.flexAnimate(a.getTarget("next")) }; a.pause = function () { clearInterval(a.animatedSlides); a.animatedSlides = null; a.playing = !1; a.vars.pausePlay && c.pausePlay.update("play"); a.syncExists && c.sync("pause") }; a.play = function () {
            a.playing && clearInterval(a.animatedSlides);
            a.animatedSlides = a.animatedSlides || setInterval(a.animateSlides, a.vars.slideshowSpeed); a.started = a.playing = !0; a.vars.pausePlay && c.pausePlay.update("pause"); a.syncExists && c.sync("play")
        }; a.stop = function () { a.pause(); a.stopped = !0 }; a.canAdvance = function (b, f) {
            var c = q ? a.pagingCount - 1 : a.last; return f ? !0 : q && a.currentItem === a.count - 1 && 0 === b && "prev" === a.direction ? !0 : q && 0 === a.currentItem && b === a.pagingCount - 1 && "next" !== a.direction ? !1 : b !== a.currentSlide || q ? a.vars.animationLoop ? !0 : a.atEnd && 0 === a.currentSlide && b ===
            c && "next" !== a.direction ? !1 : a.atEnd && a.currentSlide === c && 0 === b && "next" === a.direction ? !1 : !0 : !1
        }; a.getTarget = function (b) { a.direction = b; return "next" === b ? a.currentSlide === a.last ? 0 : a.currentSlide + 1 : 0 === a.currentSlide ? a.last : a.currentSlide - 1 }; a.setProps = function (b, f, c) {
            var d = function () {
                var c = b ? b : (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo; return -1 * function () {
                    if (h) return "setTouch" === f ? b : n && a.animatingTo === a.last ? 0 : n ? a.limit - (a.itemW + a.vars.itemMargin) * a.move * a.animatingTo : a.animatingTo === a.last ? a.limit :
                    c; switch (f) { case "setTotal": return n ? (a.count - 1 - a.currentSlide + a.cloneOffset) * b : (a.currentSlide + a.cloneOffset) * b; case "setTouch": return b; case "jumpEnd": return n ? b : a.count * b; case "jumpStart": return n ? a.count * b : b; default: return b }
                }() + "px"
            }(); a.transitions && (d = p ? "translate3d(0," + d + ",0)" : "translate3d(" + d + ",0,0)", c = void 0 !== c ? c / 1E3 + "s" : "0s", a.container.css("-" + a.pfx + "-transition-duration", c), a.container.css("transition-duration", c)); a.args[a.prop] = d; (a.transitions || void 0 === c) && a.container.css(a.args);
            a.container.css("transform", d)
        }; a.setup = function (b) {
            if (r) a.slides.css({ width: "100%", "float": "left", marginRight: "-100%", position: "relative" }), "init" === b && (t ? a.slides.css({ opacity: 0, display: "block", webkitTransition: "opacity " + a.vars.animationSpeed / 1E3 + "s ease", zIndex: 1 }).eq(a.currentSlide).css({ opacity: 1, zIndex: 2 }) : a.slides.css({ opacity: 0, display: "block", zIndex: 1 }).eq(a.currentSlide).css({ zIndex: 2 }).animate({ opacity: 1 }, a.vars.animationSpeed, a.vars.easing)), a.vars.smoothHeight && c.smoothHeight(); else {
                var f,
                g; "init" === b && (a.viewport = d('<div class="' + e + 'viewport"></div>').css({ overflow: "hidden", position: "relative" }).appendTo(a).append(a.container), a.cloneCount = 0, a.cloneOffset = 0, n && (g = d.makeArray(a.slides).reverse(), a.slides = d(g), a.container.empty().append(a.slides))); a.vars.animationLoop && !h && (a.cloneCount = 2, a.cloneOffset = 1, "init" !== b && a.container.find(".clone").remove(), c.uniqueID(a.slides.first().clone().addClass("clone").attr("aria-hidden", "true")).appendTo(a.container), c.uniqueID(a.slides.last().clone().addClass("clone").attr("aria-hidden",
                "true")).prependTo(a.container)); a.newSlides = d(a.vars.selector, a); f = n ? a.count - 1 - a.currentSlide + a.cloneOffset : a.currentSlide + a.cloneOffset; p && !h ? (a.container.height(200 * (a.count + a.cloneCount) + "%").css("position", "absolute").width("100%"), setTimeout(function () { a.newSlides.css({ display: "block" }); a.doMath(); a.viewport.height(a.h); a.setProps(f * a.h, "init") }, "init" === b ? 100 : 0)) : (a.container.width(200 * (a.count + a.cloneCount) + "%"), a.setProps(f * a.computedW, "init"), setTimeout(function () {
                    a.doMath(); a.newSlides.css({
                        width: a.computedW,
                        "float": "left", display: "block"
                    }); a.vars.smoothHeight && c.smoothHeight()
                }, "init" === b ? 100 : 0))
            } h || a.slides.removeClass(e + "active-slide").eq(a.currentSlide).addClass(e + "active-slide"); a.vars.init(a)
        }; a.doMath = function () {
            var b = a.slides.first(), c = a.vars.itemMargin, d = a.vars.minItems, e = a.vars.maxItems; a.w = void 0 === a.viewport ? a.width() : a.viewport.width(); a.h = b.height(); a.boxPadding = b.outerWidth() - b.width(); h ? (a.itemT = a.vars.itemWidth + c, a.minW = d ? d * a.itemT : a.w, a.maxW = e ? e * a.itemT - c : a.w, a.itemW = a.minW > a.w ? (a.w -
            c * (d - 1)) / d : a.maxW < a.w ? (a.w - c * (e - 1)) / e : a.vars.itemWidth > a.w ? a.w : a.vars.itemWidth, a.visible = Math.floor(a.w / a.itemW), a.move = 0 < a.vars.move && a.vars.move < a.visible ? a.vars.move : a.visible, a.pagingCount = Math.ceil((a.count - a.visible) / a.move + 1), a.last = a.pagingCount - 1, a.limit = 1 === a.pagingCount ? 0 : a.vars.itemWidth > a.w ? a.itemW * (a.count - 1) + c * (a.count - 1) : (a.itemW + c) * a.count - a.w - c) : (a.itemW = a.w, a.pagingCount = a.count, a.last = a.count - 1); a.computedW = a.itemW - a.boxPadding
        }; a.update = function (b, d) {
            a.doMath(); h || (b < a.currentSlide ?
            a.currentSlide += 1 : b <= a.currentSlide && 0 !== b && (a.currentSlide -= 1), a.animatingTo = a.currentSlide); if (a.vars.controlNav && !a.manualControls) if ("add" === d && !h || a.pagingCount > a.controlNav.length) c.controlNav.update("add"); else if ("remove" === d && !h || a.pagingCount < a.controlNav.length) h && a.currentSlide > a.last && (a.currentSlide -= 1, a.animatingTo -= 1), c.controlNav.update("remove", a.last); a.vars.directionNav && c.directionNav.update()
        }; a.addSlide = function (b, c) {
            var e = d(b); a.count += 1; a.last = a.count - 1; p && n ? void 0 !== c ? a.slides.eq(a.count -
            c).after(e) : a.container.prepend(e) : void 0 !== c ? a.slides.eq(c).before(e) : a.container.append(e); a.update(c, "add"); a.slides = d(a.vars.selector + ":not(.clone)", a); a.setup(); a.vars.added(a)
        }; a.removeSlide = function (b) { var c = isNaN(b) ? a.slides.index(d(b)) : b; a.count -= 1; a.last = a.count - 1; isNaN(b) ? d(b, a.slides).remove() : p && n ? a.slides.eq(a.last).remove() : a.slides.eq(b).remove(); a.doMath(); a.update(c, "remove"); a.slides = d(a.vars.selector + ":not(.clone)", a); a.setup(); a.vars.removed(a) }; c.init()
    }; d(window).blur(function (d) {
        focused =
        !1
    }).focus(function (d) { focused = !0 }); d.flexslider.defaults = {
        namespace: "flex-", selector: ".slides > li", animation: "fade", easing: "swing", direction: "horizontal", reverse: !1, animationLoop: !0, smoothHeight: !1, startAt: 0, slideshow: !0, slideshowSpeed: 7E3, animationSpeed: 600, initDelay: 0, randomize: !1, thumbCaptions: !1, pauseOnAction: !0, pauseOnHover: !1, pauseInvisible: !0, useCSS: !0, touch: !0, video: !1, controlNav: !0, directionNav: !0, prevText: "Previous", nextText: "Next", keyboard: !0, multipleKeyboard: !1, mousewheel: !1, pausePlay: !1,
        pauseText: "Pause", playText: "Play", controlsContainer: "", manualControls: "", sync: "", asNavFor: "", itemWidth: 0, itemMargin: 0, minItems: 1, maxItems: 0, move: 0, allowOneSlide: !0, start: function () { }, before: function () { }, after: function () { }, end: function () { }, added: function () { }, removed: function () { }, init: function () { }
    }; d.fn.flexslider = function (g) {
        void 0 === g && (g = {}); if ("object" === typeof g) return this.each(function () {
            var a = d(this), e = a.find(g.selector ? g.selector : ".slides > li"); 1 === e.length && !0 === g.allowOneSlide || 0 === e.length ?
            (e.fadeIn(400), g.start && g.start(a)) : void 0 === a.data("flexslider") && new d.flexslider(this, g)
        }); var l = d(this).data("flexslider"); switch (g) { case "play": l.play(); break; case "pause": l.pause(); break; case "stop": l.stop(); break; case "next": l.flexAnimate(l.getTarget("next"), !0); break; case "prev": case "previous": l.flexAnimate(l.getTarget("prev"), !0); break; default: "number" === typeof g && l.flexAnimate(g, !0) }
    }
})(jQuery);

/*
jquery.animate-enhanced plugin v1.02
---
http://github.com/benbarnett/jQuery-Animate-Enhanced
http://benbarnett.net
@benpbarnett
*/
(function (d, J, K) {
    function P(a, b, d, l, j, h, c, n, q) {
        var t = !1; c = !0 === c && !0 === n; b = b || {}; b.original || (b.original = {}, t = !0); b.properties = b.properties || {}; b.secondary = b.secondary || {}; n = b.meta; for (var k = b.original, x = b.properties, Q = b.secondary, D = r.length - 1; 0 <= D; D--) {
            var F = r[D] + "transition-property", y = r[D] + "transition-duration", e = r[D] + "transition-timing-function"; d = c ? r[D] + "transform" : d; t && (k[F] = a.css(F) || "", k[y] = a.css(y) || "", k[e] = a.css(e) || ""); Q[d] = c ? !0 === q || !0 === G && !1 !== q && L ? "translate3d(" + n.left + "px, " + n.top +
            "px, 0)" : "translate(" + n.left + "px," + n.top + "px)" : h; x[F] = (x[F] ? x[F] + "," : "") + d; x[y] = (x[y] ? x[y] + "," : "") + l + "ms"; x[e] = (x[e] ? x[e] + "," : "") + j
        } return b
    } function B(a) { for (var b in a) return !1; return !0 } function R(a) { a = a.toUpperCase(); var b = { LI: "list-item", TR: "table-row", TD: "table-cell", TH: "table-cell", CAPTION: "table-caption", COL: "table-column", COLGROUP: "table-column-group", TFOOT: "table-footer-group", THEAD: "table-header-group", TBODY: "table-row-group" }; return "string" == typeof b[a] ? b[a] : "block" } function H(a) {
        return parseFloat(a.replace(a.match(/\D+$/),
        ""))
    } function M(a) { var b = !0; a.each(function (a, d) { return b = b && d.ownerDocument }); return b } var S = "top right bottom left opacity height width".split(" "), I = ["top", "right", "bottom", "left"], r = ["-webkit-", "-moz-", "-o-", ""], T = ["avoidTransforms", "useTranslate3d", "leaveTransforms"], U = /^([+-]=)?([\d+-.]+)(.*)$/, V = /([A-Z])/g, W = { secondary: {}, meta: { top: 0, right: 0, bottom: 0, left: 0 } }, N = null, C = !1, z = (document.body || document.documentElement).style, O = void 0 !== z.WebkitTransition || void 0 !== z.MozTransition || void 0 !== z.OTransition ||
    void 0 !== z.transition, L = "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix, G = L; d.expr && d.expr.filters && (N = d.expr.filters.animated, d.expr.filters.animated = function (a) { return d(a).data("events") && d(a).data("events")["webkitTransitionEnd oTransitionEnd transitionend"] ? !0 : N.call(this, a) }); d.extend({ toggle3DByDefault: function () { return G = !G }, toggleDisabledByDefault: function () { return C = !C }, setDisabledByDefault: function (a) { return C = a } }); d.fn.translation = function () {
        if (!this[0]) return null; var a = window.getComputedStyle(this[0],
        null), d = { x: 0, y: 0 }; if (a) for (var p = r.length - 1; 0 <= p; p--) { var l = a.getPropertyValue(r[p] + "transform"); if (l && /matrix/i.test(l)) { a = l.replace(/^matrix\(/i, "").split(/, |\)$/g); d = { x: parseInt(a[4], 10), y: parseInt(a[5], 10) }; break } } return d
    }; d.fn.animate = function (a, b, p, l) {
        a = a || {}; var j = !("undefined" !== typeof a.bottom || "undefined" !== typeof a.right), h = d.speed(b, p, l), c = this, n = 0, q = function () { n--; 0 === n && "function" === typeof h.complete && h.complete.apply(c, arguments) }, t; if (!(t = !0 === ("undefined" !== typeof a.avoidCSSTransitions ?
        a.avoidCSSTransitions : C))) if (!(t = !O)) if (!(t = B(a))) { var k; a: { for (k in a) if (("width" == k || "height" == k) && ("show" == a[k] || "hide" == a[k] || "toggle" == a[k])) { k = !0; break a } k = !1 } t = k || 0 >= h.duration } return t ? J.apply(this, arguments) : this[!0 === h.queue ? "queue" : "each"](function () {
            var b = d(this), c = d.extend({}, h), l = function (c) {
                var g = b.data("jQe") || { original: {} }, f = {}; if (2 == c.eventPhase) {
                    if (!0 !== a.leaveTransforms) {
                        for (c = r.length - 1; 0 <= c; c--) f[r[c] + "transform"] = ""; if (j && "undefined" !== typeof g.meta) {
                            c = 0; for (var e; e = I[c]; ++c) f[e] =
                            g.meta[e + "_o"] + "px", d(this).css(e, f[e])
                        }
                    } b.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(g.original).css(f).data("jQe", null); "hide" === a.opacity && b.css({ display: "none", opacity: "" }); q.call(this)
                }
            }, k = {
                bounce: "cubic-bezier(0.0, 0.35, .5, 1.3)", linear: "linear", swing: "ease-in-out", easeInQuad: "cubic-bezier(0.550, 0.085, 0.680, 0.530)", easeInCubic: "cubic-bezier(0.550, 0.055, 0.675, 0.190)", easeInQuart: "cubic-bezier(0.895, 0.030, 0.685, 0.220)", easeInQuint: "cubic-bezier(0.755, 0.050, 0.855, 0.060)",
                easeInSine: "cubic-bezier(0.470, 0.000, 0.745, 0.715)", easeInExpo: "cubic-bezier(0.950, 0.050, 0.795, 0.035)", easeInCirc: "cubic-bezier(0.600, 0.040, 0.980, 0.335)", easeInBack: "cubic-bezier(0.600, -0.280, 0.735, 0.045)", easeOutQuad: "cubic-bezier(0.250, 0.460, 0.450, 0.940)", easeOutCubic: "cubic-bezier(0.215, 0.610, 0.355, 1.000)", easeOutQuart: "cubic-bezier(0.165, 0.840, 0.440, 1.000)", easeOutQuint: "cubic-bezier(0.230, 1.000, 0.320, 1.000)", easeOutSine: "cubic-bezier(0.390, 0.575, 0.565, 1.000)", easeOutExpo: "cubic-bezier(0.190, 1.000, 0.220, 1.000)",
                easeOutCirc: "cubic-bezier(0.075, 0.820, 0.165, 1.000)", easeOutBack: "cubic-bezier(0.175, 0.885, 0.320, 1.275)", easeInOutQuad: "cubic-bezier(0.455, 0.030, 0.515, 0.955)", easeInOutCubic: "cubic-bezier(0.645, 0.045, 0.355, 1.000)", easeInOutQuart: "cubic-bezier(0.770, 0.000, 0.175, 1.000)", easeInOutQuint: "cubic-bezier(0.860, 0.000, 0.070, 1.000)", easeInOutSine: "cubic-bezier(0.445, 0.050, 0.550, 0.950)", easeInOutExpo: "cubic-bezier(1.000, 0.000, 0.000, 1.000)", easeInOutCirc: "cubic-bezier(0.785, 0.135, 0.150, 0.860)",
                easeInOutBack: "cubic-bezier(0.680, -0.550, 0.265, 1.550)"
            }, y = {}, k = k[c.easing || "swing"] ? k[c.easing || "swing"] : c.easing || "swing", e; for (e in a) if (-1 === d.inArray(e, T)) {
                var p = -1 < d.inArray(e, I), m; var g = b, w = a[e], u = e, s = p && !0 !== a.avoidTransforms; if ("d" == u) m = void 0; else if (M(g)) {
                    var f = U.exec(w); m = "auto" === g.css(u) ? 0 : g.css(u); m = "string" == typeof m ? H(m) : m; "string" == typeof w && H(w); var s = !0 === s ? 0 : m, t = g.is(":hidden"), v = g.translation(); "left" == u && (s = parseInt(m, 10) + v.x); "right" == u && (s = parseInt(m, 10) + v.x); "top" == u &&
                    (s = parseInt(m, 10) + v.y); "bottom" == u && (s = parseInt(m, 10) + v.y); !f && "show" == w ? (s = 1, t && g.css({ display: R(g.context.tagName), opacity: 0 })) : !f && "hide" == w && (s = 0); f ? (g = parseFloat(f[2]), f[1] && (g = ("-=" === f[1] ? -1 : 1) * g + parseInt(s, 10)), m = g) : m = s
                } else m = void 0; f = e; g = m; w = b; if (M(w)) { u = -1 < d.inArray(f, S); if (("width" == f || "height" == f || "opacity" == f) && parseFloat(g) === parseFloat(w.css(f))) u = !1; f = u } else f = !1; if (f) {
                    var f = b, g = e, w = c.duration, u = k, p = p && !0 !== a.avoidTransforms, s = j, t = a.useTranslate3d, v = (v = f.data("jQe")) && !B(v) ? v : d.extend(!0,
                    {}, W), A = m; if (-1 < d.inArray(g, I)) { var E = v.meta, C = H(f.css(g)) || 0, z = g + "_o", A = m - C; E[g] = A; E[z] = "auto" == f.css(g) ? 0 + A : C + A || 0; v.meta = E; s && 0 === A && (A = 0 - E[z], E[g] = A, E[z] = 0) } f.data("jQe", P(f, v, g, w, u, A, p, s, t))
                } else y[e] = a[e]
            } b.unbind("webkitTransitionEnd oTransitionEnd transitionend"); if ((e = b.data("jQe")) && !B(e) && !B(e.secondary)) { n++; b.css(e.properties); var G = e.secondary; setTimeout(function () { b.bind("webkitTransitionEnd oTransitionEnd transitionend", l).css(G) }) } else c.queue = !1; B(y) || (n++, J.apply(b, [y, {
                duration: c.duration,
                easing: d.easing[c.easing] ? c.easing : d.easing.swing ? "swing" : "linear", complete: q, queue: c.queue
            }])); return !0
        })
    }; d.fn.animate.defaults = {}; d.fn.stop = function (a, b, p) {
        if (!O) return K.apply(this, [a, b]); a && this.queue([]); this.each(function () {
            var l = d(this), j = l.data("jQe"); if (j && !B(j)) {
                var h, c = {}; if (b) {
                    if (c = j.secondary, !p && void 0 !== typeof j.meta.left_o || void 0 !== typeof j.meta.top_o) {
                        c.left = void 0 !== typeof j.meta.left_o ? j.meta.left_o : "auto"; c.top = void 0 !== typeof j.meta.top_o ? j.meta.top_o : "auto"; for (h = r.length -
                        1; 0 <= h; h--) c[r[h] + "transform"] = ""
                    }
                } else if (!B(j.secondary)) { var n = window.getComputedStyle(l[0], null); if (n) for (var q in j.secondary) if (j.secondary.hasOwnProperty(q) && (q = q.replace(V, "-$1").toLowerCase(), c[q] = n.getPropertyValue(q), !p && /matrix/i.test(c[q]))) { h = c[q].replace(/^matrix\(/i, "").split(/, |\)$/g); c.left = parseFloat(h[4]) + parseFloat(l.css("left")) + "px" || "auto"; c.top = parseFloat(h[5]) + parseFloat(l.css("top")) + "px" || "auto"; for (h = r.length - 1; 0 <= h; h--) c[r[h] + "transform"] = "" } } l.unbind("webkitTransitionEnd oTransitionEnd transitionend");
                l.css(j.original).css(c).data("jQe", null)
            } else K.apply(l, [a, b])
        }); return this
    }
})(jQuery, jQuery.fn.animate, jQuery.fn.stop);


/**
 * Isotope v1.5.26
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time purchase of a commercial license
 * http://isotope.metafizzy.co/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright 2014 Metafizzy
 */
!function (t, i) { "use strict"; var s, e = t.document, n = e.documentElement, o = t.Modernizr, r = function (t) { return t.charAt(0).toUpperCase() + t.slice(1) }, a = "Moz Webkit O Ms".split(" "), h = function (t) { var i, s = n.style; if ("string" == typeof s[t]) return t; t = r(t); for (var e = 0, o = a.length; o > e; e++) if (i = a[e] + t, "string" == typeof s[i]) return i }, l = h("transform"), u = h("transitionProperty"), c = { csstransforms: function () { return !!l }, csstransforms3d: function () { var t = !!h("perspective"); if (t && "webkitPerspective" in n.style) { var s = i("<style>@media (transform-3d),(-webkit-transform-3d){#modernizr{height:3px}}</style>").appendTo("head"), e = i('<div id="modernizr" />').appendTo("html"); t = 3 === e.height(), e.remove(), s.remove() } return t }, csstransitions: function () { return !!u } }; if (o) for (s in c) o.hasOwnProperty(s) || o.addTest(s, c[s]); else { o = t.Modernizr = { _version: "1.6ish: miniModernizr for Isotope" }; var d, f = " "; for (s in c) d = c[s](), o[s] = d, f += " " + (d ? "" : "no-") + s; i("html").addClass(f) } if (o.csstransforms) { var m = o.csstransforms3d ? { translate: function (t) { return "translate3d(" + t[0] + "px, " + t[1] + "px, 0) " }, scale: function (t) { return "scale3d(" + t + ", " + t + ", 1) " } } : { translate: function (t) { return "translate(" + t[0] + "px, " + t[1] + "px) " }, scale: function (t) { return "scale(" + t + ") " } }, p = function (t, s, e) { var n, o, r = i.data(t, "isoTransform") || {}, a = {}, h = {}; a[s] = e, i.extend(r, a); for (n in r) o = r[n], h[n] = m[n](o); var u = h.translate || "", c = h.scale || "", d = u + c; i.data(t, "isoTransform", r), t.style[l] = d }; i.cssNumber.scale = !0, i.cssHooks.scale = { set: function (t, i) { p(t, "scale", i) }, get: function (t) { var s = i.data(t, "isoTransform"); return s && s.scale ? s.scale : 1 } }, i.fx.step.scale = function (t) { i.cssHooks.scale.set(t.elem, t.now + t.unit) }, i.cssNumber.translate = !0, i.cssHooks.translate = { set: function (t, i) { p(t, "translate", i) }, get: function (t) { var s = i.data(t, "isoTransform"); return s && s.translate ? s.translate : [0, 0] } } } var y, g; o.csstransitions && (y = { WebkitTransitionProperty: "webkitTransitionEnd", MozTransitionProperty: "transitionend", OTransitionProperty: "oTransitionEnd otransitionend", transitionProperty: "transitionend" }[u], g = h("transitionDuration")); var v, _ = i.event, A = i.event.handle ? "handle" : "dispatch"; _.special.smartresize = { setup: function () { i(this).bind("resize", _.special.smartresize.handler) }, teardown: function () { i(this).unbind("resize", _.special.smartresize.handler) }, handler: function (t, i) { var s = this, e = arguments; t.type = "smartresize", v && clearTimeout(v), v = setTimeout(function () { _[A].apply(s, e) }, "execAsap" === i ? 0 : 100) } }, i.fn.smartresize = function (t) { return t ? this.bind("smartresize", t) : this.trigger("smartresize", ["execAsap"]) }, i.Isotope = function (t, s, e) { this.element = i(s), this._create(t), this._init(e) }; var w = ["width", "height"], C = i(t); i.Isotope.settings = { resizable: !0, layoutMode: "masonry", containerClass: "isotope", itemClass: "isotope-item", hiddenClass: "isotope-hidden", hiddenStyle: { opacity: 0, scale: .001 }, visibleStyle: { opacity: 1, scale: 1 }, containerStyle: { position: "relative", overflow: "hidden" }, animationEngine: "best-available", animationOptions: { queue: !1, duration: 800 }, sortBy: "original-order", sortAscending: !0, resizesContainer: !0, transformsEnabled: !0, itemPositionDataEnabled: !1 }, i.Isotope.prototype = { _create: function (t) { this.options = i.extend({}, i.Isotope.settings, t), this.styleQueue = [], this.elemCount = 0; var s = this.element[0].style; this.originalStyle = {}; var e = w.slice(0); for (var n in this.options.containerStyle) e.push(n); for (var o = 0, r = e.length; r > o; o++) n = e[o], this.originalStyle[n] = s[n] || ""; this.element.css(this.options.containerStyle), this._updateAnimationEngine(), this._updateUsingTransforms(); var a = { "original-order": function (t, i) { return i.elemCount++, i.elemCount }, random: function () { return Math.random() } }; this.options.getSortData = i.extend(this.options.getSortData, a), this.reloadItems(), this.offset = { left: parseInt(this.element.css("padding-left") || 0, 10), top: parseInt(this.element.css("padding-top") || 0, 10) }; var h = this; setTimeout(function () { h.element.addClass(h.options.containerClass) }, 0), this.options.resizable && C.bind("smartresize.isotope", function () { h.resize() }), this.element.delegate("." + this.options.hiddenClass, "click", function () { return !1 }) }, _getAtoms: function (t) { var i = this.options.itemSelector, s = i ? t.filter(i).add(t.find(i)) : t, e = { position: "absolute" }; return s = s.filter(function (t, i) { return 1 === i.nodeType }), this.usingTransforms && (e.left = 0, e.top = 0), s.css(e).addClass(this.options.itemClass), this.updateSortData(s, !0), s }, _init: function (t) { this.$filteredAtoms = this._filter(this.$allAtoms), this._sort(), this.reLayout(t) }, option: function (t) { if (i.isPlainObject(t)) { this.options = i.extend(!0, this.options, t); var s; for (var e in t) s = "_update" + r(e), this[s] && this[s]() } }, _updateAnimationEngine: function () { var t, i = this.options.animationEngine.toLowerCase().replace(/[ _\-]/g, ""); switch (i) { case "css": case "none": t = !1; break; case "jquery": t = !0; break; default: t = !o.csstransitions } this.isUsingJQueryAnimation = t, this._updateUsingTransforms() }, _updateTransformsEnabled: function () { this._updateUsingTransforms() }, _updateUsingTransforms: function () { var t = this.usingTransforms = this.options.transformsEnabled && o.csstransforms && o.csstransitions && !this.isUsingJQueryAnimation; t || (delete this.options.hiddenStyle.scale, delete this.options.visibleStyle.scale), this.getPositionStyles = t ? this._translate : this._positionAbs }, _filter: function (t) { var i = "" === this.options.filter ? "*" : this.options.filter; if (!i) return t; var s = this.options.hiddenClass, e = "." + s, n = t.filter(e), o = n; if ("*" !== i) { o = n.filter(i); var r = t.not(e).not(i).addClass(s); this.styleQueue.push({ $el: r, style: this.options.hiddenStyle }) } return this.styleQueue.push({ $el: o, style: this.options.visibleStyle }), o.removeClass(s), t.filter(i) }, updateSortData: function (t, s) { var e, n, o = this, r = this.options.getSortData; t.each(function () { e = i(this), n = {}; for (var t in r) n[t] = s || "original-order" !== t ? r[t](e, o) : i.data(this, "isotope-sort-data")[t]; i.data(this, "isotope-sort-data", n) }) }, _sort: function () { var t = this.options.sortBy, i = this._getSorter, s = this.options.sortAscending ? 1 : -1, e = function (e, n) { var o = i(e, t), r = i(n, t); return o === r && "original-order" !== t && (o = i(e, "original-order"), r = i(n, "original-order")), (o > r ? 1 : r > o ? -1 : 0) * s }; this.$filteredAtoms.sort(e) }, _getSorter: function (t, s) { return i.data(t, "isotope-sort-data")[s] }, _translate: function (t, i) { return { translate: [t, i] } }, _positionAbs: function (t, i) { return { left: t, top: i } }, _pushPosition: function (t, i, s) { i = Math.round(i + this.offset.left), s = Math.round(s + this.offset.top); var e = this.getPositionStyles(i, s); this.styleQueue.push({ $el: t, style: e }), this.options.itemPositionDataEnabled && t.data("isotope-item-position", { x: i, y: s }) }, layout: function (t, i) { var s = this.options.layoutMode; if (this["_" + s + "Layout"](t), this.options.resizesContainer) { var e = this["_" + s + "GetContainerSize"](); this.styleQueue.push({ $el: this.element, style: e }) } this._processStyleQueue(t, i), this.isLaidOut = !0 }, _processStyleQueue: function (t, s) { var e, n, r, a, h = this.isLaidOut ? this.isUsingJQueryAnimation ? "animate" : "css" : "css", l = this.options.animationOptions, u = this.options.onLayout; if (n = function (t, i) { i.$el[h](i.style, l) }, this._isInserting && this.isUsingJQueryAnimation) n = function (t, i) { e = i.$el.hasClass("no-transition") ? "css" : h, i.$el[e](i.style, l) }; else if (s || u || l.complete) { var c = !1, d = [s, u, l.complete], f = this; if (r = !0, a = function () { if (!c) { for (var i, s = 0, e = d.length; e > s; s++) i = d[s], "function" == typeof i && i.call(f.element, t, f); c = !0 } }, this.isUsingJQueryAnimation && "animate" === h) l.complete = a, r = !1; else if (o.csstransitions) { for (var m, p = 0, v = this.styleQueue[0], _ = v && v.$el; !_ || !_.length;) { if (m = this.styleQueue[p++], !m) return; _ = m.$el } var A = parseFloat(getComputedStyle(_[0])[g]); A > 0 && (n = function (t, i) { i.$el[h](i.style, l).one(y, a) }, r = !1) } } i.each(this.styleQueue, n), r && a(), this.styleQueue = [] }, resize: function () { this["_" + this.options.layoutMode + "ResizeChanged"]() && this.reLayout() }, reLayout: function (t) { this["_" + this.options.layoutMode + "Reset"](), this.layout(this.$filteredAtoms, t) }, addItems: function (t, i) { var s = this._getAtoms(t); this.$allAtoms = this.$allAtoms.add(s), i && i(s) }, insert: function (t, i) { this.element.append(t); var s = this; this.addItems(t, function (t) { var e = s._filter(t); s._addHideAppended(e), s._sort(), s.reLayout(), s._revealAppended(e, i) }) }, appended: function (t, i) { var s = this; this.addItems(t, function (t) { s._addHideAppended(t), s.layout(t), s._revealAppended(t, i) }) }, _addHideAppended: function (t) { this.$filteredAtoms = this.$filteredAtoms.add(t), t.addClass("no-transition"), this._isInserting = !0, this.styleQueue.push({ $el: t, style: this.options.hiddenStyle }) }, _revealAppended: function (t, i) { var s = this; setTimeout(function () { t.removeClass("no-transition"), s.styleQueue.push({ $el: t, style: s.options.visibleStyle }), s._isInserting = !1, s._processStyleQueue(t, i) }, 10) }, reloadItems: function () { this.$allAtoms = this._getAtoms(this.element.children()) }, remove: function (t, i) { this.$allAtoms = this.$allAtoms.not(t), this.$filteredAtoms = this.$filteredAtoms.not(t); var s = this, e = function () { t.remove(), i && i.call(s.element) }; t.filter(":not(." + this.options.hiddenClass + ")").length ? (this.styleQueue.push({ $el: t, style: this.options.hiddenStyle }), this._sort(), this.reLayout(e)) : e() }, shuffle: function (t) { this.updateSortData(this.$allAtoms), this.options.sortBy = "random", this._sort(), this.reLayout(t) }, destroy: function () { var t = this.usingTransforms, i = this.options; this.$allAtoms.removeClass(i.hiddenClass + " " + i.itemClass).each(function () { var i = this.style; i.position = "", i.top = "", i.left = "", i.opacity = "", t && (i[l] = "") }); var s = this.element[0].style; for (var e in this.originalStyle) s[e] = this.originalStyle[e]; this.element.unbind(".isotope").undelegate("." + i.hiddenClass, "click").removeClass(i.containerClass).removeData("isotope"), C.unbind(".isotope") }, _getSegments: function (t) { var i, s = this.options.layoutMode, e = t ? "rowHeight" : "columnWidth", n = t ? "height" : "width", o = t ? "rows" : "cols", a = this.element[n](), h = this.options[s] && this.options[s][e] || this.$filteredAtoms["outer" + r(n)](!0) || a; i = Math.floor(a / h), i = Math.max(i, 1), this[s][o] = i, this[s][e] = h }, _checkIfSegmentsChanged: function (t) { var i = this.options.layoutMode, s = t ? "rows" : "cols", e = this[i][s]; return this._getSegments(t), this[i][s] !== e }, _masonryReset: function () { this.masonry = {}, this._getSegments(); var t = this.masonry.cols; for (this.masonry.colYs = []; t--;) this.masonry.colYs.push(0) }, _masonryLayout: function (t) { var s = this, e = s.masonry; t.each(function () { var t = i(this), n = Math.ceil(t.outerWidth(!0) / e.columnWidth); if (n = Math.min(n, e.cols), 1 === n) s._masonryPlaceBrick(t, e.colYs); else { var o, r, a = e.cols + 1 - n, h = []; for (r = 0; a > r; r++) o = e.colYs.slice(r, r + n), h[r] = Math.max.apply(Math, o); s._masonryPlaceBrick(t, h) } }) }, _masonryPlaceBrick: function (t, i) { for (var s = Math.min.apply(Math, i), e = 0, n = 0, o = i.length; o > n; n++) if (i[n] === s) { e = n; break } var r = this.masonry.columnWidth * e, a = s; this._pushPosition(t, r, a); var h = s + t.outerHeight(!0), l = this.masonry.cols + 1 - o; for (n = 0; l > n; n++) this.masonry.colYs[e + n] = h }, _masonryGetContainerSize: function () { var t = Math.max.apply(Math, this.masonry.colYs); return { height: t } }, _masonryResizeChanged: function () { return this._checkIfSegmentsChanged() }, _fitRowsReset: function () { this.fitRows = { x: 0, y: 0, height: 0 } }, _fitRowsLayout: function (t) { var s = this, e = this.element.width(), n = this.fitRows; t.each(function () { var t = i(this), o = t.outerWidth(!0), r = t.outerHeight(!0); 0 !== n.x && o + n.x > e && (n.x = 0, n.y = n.height), s._pushPosition(t, n.x, n.y), n.height = Math.max(n.y + r, n.height), n.x += o }) }, _fitRowsGetContainerSize: function () { return { height: this.fitRows.height } }, _fitRowsResizeChanged: function () { return !0 }, _cellsByRowReset: function () { this.cellsByRow = { index: 0 }, this._getSegments(), this._getSegments(!0) }, _cellsByRowLayout: function (t) { var s = this, e = this.cellsByRow; t.each(function () { var t = i(this), n = e.index % e.cols, o = Math.floor(e.index / e.cols), r = (n + .5) * e.columnWidth - t.outerWidth(!0) / 2, a = (o + .5) * e.rowHeight - t.outerHeight(!0) / 2; s._pushPosition(t, r, a), e.index++ }) }, _cellsByRowGetContainerSize: function () { return { height: Math.ceil(this.$filteredAtoms.length / this.cellsByRow.cols) * this.cellsByRow.rowHeight + this.offset.top } }, _cellsByRowResizeChanged: function () { return this._checkIfSegmentsChanged() }, _straightDownReset: function () { this.straightDown = { y: 0 } }, _straightDownLayout: function (t) { var s = this; t.each(function () { var t = i(this); s._pushPosition(t, 0, s.straightDown.y), s.straightDown.y += t.outerHeight(!0) }) }, _straightDownGetContainerSize: function () { return { height: this.straightDown.y } }, _straightDownResizeChanged: function () { return !0 }, _masonryHorizontalReset: function () { this.masonryHorizontal = {}, this._getSegments(!0); var t = this.masonryHorizontal.rows; for (this.masonryHorizontal.rowXs = []; t--;) this.masonryHorizontal.rowXs.push(0) }, _masonryHorizontalLayout: function (t) { var s = this, e = s.masonryHorizontal; t.each(function () { var t = i(this), n = Math.ceil(t.outerHeight(!0) / e.rowHeight); if (n = Math.min(n, e.rows), 1 === n) s._masonryHorizontalPlaceBrick(t, e.rowXs); else { var o, r, a = e.rows + 1 - n, h = []; for (r = 0; a > r; r++) o = e.rowXs.slice(r, r + n), h[r] = Math.max.apply(Math, o); s._masonryHorizontalPlaceBrick(t, h) } }) }, _masonryHorizontalPlaceBrick: function (t, i) { for (var s = Math.min.apply(Math, i), e = 0, n = 0, o = i.length; o > n; n++) if (i[n] === s) { e = n; break } var r = s, a = this.masonryHorizontal.rowHeight * e; this._pushPosition(t, r, a); var h = s + t.outerWidth(!0), l = this.masonryHorizontal.rows + 1 - o; for (n = 0; l > n; n++) this.masonryHorizontal.rowXs[e + n] = h }, _masonryHorizontalGetContainerSize: function () { var t = Math.max.apply(Math, this.masonryHorizontal.rowXs); return { width: t } }, _masonryHorizontalResizeChanged: function () { return this._checkIfSegmentsChanged(!0) }, _fitColumnsReset: function () { this.fitColumns = { x: 0, y: 0, width: 0 } }, _fitColumnsLayout: function (t) { var s = this, e = this.element.height(), n = this.fitColumns; t.each(function () { var t = i(this), o = t.outerWidth(!0), r = t.outerHeight(!0); 0 !== n.y && r + n.y > e && (n.x = n.width, n.y = 0), s._pushPosition(t, n.x, n.y), n.width = Math.max(n.x + o, n.width), n.y += r }) }, _fitColumnsGetContainerSize: function () { return { width: this.fitColumns.width } }, _fitColumnsResizeChanged: function () { return !0 }, _cellsByColumnReset: function () { this.cellsByColumn = { index: 0 }, this._getSegments(), this._getSegments(!0) }, _cellsByColumnLayout: function (t) { var s = this, e = this.cellsByColumn; t.each(function () { var t = i(this), n = Math.floor(e.index / e.rows), o = e.index % e.rows, r = (n + .5) * e.columnWidth - t.outerWidth(!0) / 2, a = (o + .5) * e.rowHeight - t.outerHeight(!0) / 2; s._pushPosition(t, r, a), e.index++ }) }, _cellsByColumnGetContainerSize: function () { return { width: Math.ceil(this.$filteredAtoms.length / this.cellsByColumn.rows) * this.cellsByColumn.columnWidth } }, _cellsByColumnResizeChanged: function () { return this._checkIfSegmentsChanged(!0) }, _straightAcrossReset: function () { this.straightAcross = { x: 0 } }, _straightAcrossLayout: function (t) { var s = this; t.each(function () { var t = i(this); s._pushPosition(t, s.straightAcross.x, 0), s.straightAcross.x += t.outerWidth(!0) }) }, _straightAcrossGetContainerSize: function () { return { width: this.straightAcross.x } }, _straightAcrossResizeChanged: function () { return !0 } }, i.fn.imagesLoaded = function (t) { function s() { t.call(n, o) } function e(t) { var n = t.target; n.src !== a && -1 === i.inArray(n, h) && (h.push(n), --r <= 0 && (setTimeout(s), o.unbind(".imagesLoaded", e))) } var n = this, o = n.find("img").add(n.filter("img")), r = o.length, a = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==", h = []; return r || s(), o.bind("load.imagesLoaded error.imagesLoaded", e).each(function () { var t = this.src; this.src = a, this.src = t }), n }; var z = function (i) { t.console && t.console.error(i) }; i.fn.isotope = function (t, s) { if ("string" == typeof t) { var e = Array.prototype.slice.call(arguments, 1); this.each(function () { var s = i.data(this, "isotope"); return s ? i.isFunction(s[t]) && "_" !== t.charAt(0) ? void s[t].apply(s, e) : void z("no such method '" + t + "' for isotope instance") : void z("cannot call methods on isotope prior to initialization; attempted to call method '" + t + "'") }) } else this.each(function () { var e = i.data(this, "isotope"); e ? (e.option(t), e._init(s)) : i.data(this, "isotope", new i.Isotope(t, this, s)) }); return this } }(window, jQuery);

/*!
 * PerfectMasonry extension for Isotope
 *
 * Does similar things as the Isotopes "masonry" layoutmode, except that this one will actually go back and plug the holes
 * left by bigger elements, thus making a perfect brick wall. Profit!
 * @author Mikko Tikkanen, Zonear Ltd. <contact@zonear.com>
 */
(function (e, t) { var n = "1.2.1"; var r = null, i = null, s = null; e.extend(e.Isotope.prototype, { isFirstRun: true, _perfectMasonryReset: function () { this.options.perfectMasonry = this.options.perfectMasonry || {}; var t = this.options.perfectMasonry.layout != "horizontal", n = this.options.perfectMasonry.liquid == true; if (this.isFirstRun) { this.isFirstRun = false; r = this; i = e(this.element.context); s = i.parent(); this.options.perfectMasonry.minCols = this.options.perfectMasonry.minCols || 1; this.options.perfectMasonry.minRows = this.options.perfectMasonry.minRows || 1; this.options.perfectMasonry.maxCols = this.options.perfectMasonry.maxCols || 9999; this.options.perfectMasonry.maxRows = this.options.perfectMasonry.maxRows || 9999 } if (n && e.data(window, "events") && e._data(window, "events").smartresize) { e(window).off("smartresize.isotope"); e(window).on("resize.isotope.perfectmasonry", function () { if (!i.hasClass("isotope")) { return } i.isotope("reLayout") }) } var o = this.perfectMasonry = {}; this._getSegments(); this._getSegments(true); this._perfectMasonryGetSegments(); if (n) { var u = s.width(), a = s.height(); this.options.perfectMasonry.columnWidth = this.options.perfectMasonry.columnWidth || o.columnWidth; this.options.perfectMasonry.rowHeight = this.options.perfectMasonry.rowHeight || o.rowHeight; o.cols = this.options.perfectMasonry.cols || Math.floor(u / this.options.perfectMasonry.columnWidth); o.rows = this.options.perfectMasonry.rows || Math.floor(a / this.options.perfectMasonry.rowHeight); o.cols = Math.min(Math.max(o.cols, this.options.perfectMasonry.minCols), this.options.perfectMasonry.maxCols); o.rows = Math.min(Math.max(o.rows, this.options.perfectMasonry.minRows), this.options.perfectMasonry.maxRows); var f = t ? o.columnWidth / (u / o.cols) : o.rowHeight / (a / o.rows); o.columnWidth = Math.floor(o.columnWidth / f); o.rowHeight = Math.floor(o.rowHeight / f) } o.grid = new Array(this.perfectMasonry.cols); o.containerHeight = 0; o.containerWidth = 0 }, _perfectMasonryLayout: function (t) { var n = this, r = this.perfectMasonry, i = n.options.perfectMasonry.layout != "horizontal", s = n.options.perfectMasonry.liquid == true; r.grid = new Array(r[i ? "cols" : "rows"]); if (!r.grid || !r.grid.length) { return } t.each(function () { var t = e(this); var o = s ? t.data("colSpan") : Math.ceil(t.outerWidth() / (r.columnWidth + 1)), u = s ? t.data("rowSpan") : Math.ceil(t.outerHeight() / (r.rowHeight + 1)); if (!o) { o = Math.ceil(t.outerWidth(true) / (r.columnWidth + 1)); u = Math.ceil(t.outerHeight(true) / (r.rowHeight + 1)); t.data("colSpan", o); t.data("rowSpan", u) } var a = i ? o : u; var f = i ? u : o; var l = Math.max((i ? r.cols - o : r.rows - u) + 1, 1); var c = -1, h = 0, p = 0; while (++c < 1e4) { r.grid[c] = r.grid[c] || []; for (var d = 0; d < l; d++) { var v = r.grid[c][d]; if (v) { continue } var m = true; if (o > 1 || u > 1) { for (var g = 0; g < a; g++) { for (var y = 0; y < f; y++) { r.grid[c + y] = r.grid[c + y] || []; if (r.grid[c + y][d + g]) { m = false; break } } if (!m) { break } } } if (!m) { continue } for (var g = 0; g < a; g++) { for (var y = 0; y < f; y++) { r.grid[c + y][d + g] = true } } var h = c, p = d; if (i) { var h = d, p = c } r.containerWidth = Math.max(r.containerWidth, (h + a) * r.columnWidth); r.containerHeight = Math.max(r.containerHeight, (p + f) * r.rowHeight); if (n.options.perfectMasonry.liquid == true) { t.css({ width: r.columnWidth * o, height: r.rowHeight * u }) } n._pushPosition(t, h * r.columnWidth, p * r.rowHeight); return } } n._pushPosition(t, -9999, -9999) }); var o = i ? r.grid.length : r.grid[0] && r.grid[0].length, u = i ? r.grid[0] && r.grid[0].length : r.grid.length; e(this.element.context).attr("data-isotope-rows", o).attr("data-isotope-cols", u) }, _perfectMasonryGetContainerSize: function () { return { width: this.perfectMasonry.containerWidth, height: this.perfectMasonry.containerHeight } }, _perfectMasonryResizeChanged: function () { var e = this.perfectMasonry; var t = e.cols, n = e.rows; this._perfectMasonryGetSegments(); if (this.options.perfectMasonry.layout == "horizontal" && n !== e.rows) { return true } if (t !== e.cols) { return true } return false }, _perfectMasonryGetSegments: function () { var e = this.perfectMasonry; var t = this.options.perfectMasonry.parent || this.element.parent(); var n = t.width(); e.cols = Math.floor(n / e.columnWidth) || 1; var r = t.height(); e.rows = Math.floor(r / e.rowHeight) || 1 } }) })(jQuery);

/*! waitForImages jQuery Plugin 2013-07-20 */
!function (a) { var b = "waitForImages"; a.waitForImages = { hasImageProperties: ["backgroundImage", "listStyleImage", "borderImage", "borderCornerImage", "cursor"] }, a.expr[":"].uncached = function (b) { if (!a(b).is('img[src!=""]')) return !1; var c = new Image; return c.src = b.src, !c.complete }, a.fn.waitForImages = function (c, d, e) { var f = 0, g = 0; if (a.isPlainObject(arguments[0]) && (e = arguments[0].waitForAll, d = arguments[0].each, c = arguments[0].finished), c = c || a.noop, d = d || a.noop, e = !!e, !a.isFunction(c) || !a.isFunction(d)) throw new TypeError("An invalid callback was supplied."); return this.each(function () { var h = a(this), i = [], j = a.waitForImages.hasImageProperties || [], k = /url\(\s*(['"]?)(.*?)\1\s*\)/g; e ? h.find("*").addBack().each(function () { var b = a(this); b.is("img:uncached") && i.push({ src: b.attr("src"), element: b[0] }), a.each(j, function (a, c) { var d, e = b.css(c); if (!e) return !0; for (; d = k.exec(e) ;) i.push({ src: d[2], element: b[0] }) }) }) : h.find("img:uncached").each(function () { i.push({ src: this.src, element: this }) }), f = i.length, g = 0, 0 === f && c.call(h[0]), a.each(i, function (e, i) { var j = new Image; a(j).on("load." + b + " error." + b, function (a) { return g++, d.call(i.element, g, f, "load" == a.type), g == f ? (c.call(h[0]), !1) : void 0 }), j.src = i.src }) }) } }(jQuery);


/*global jQuery */
/*jshint browser:true */
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/

(function (e) { "use strict"; e.fn.fitVids = function (t) { var n = { customSelector: null, ignore: null }; if (!document.getElementById("fit-vids-style")) { var r = document.head || document.getElementsByTagName("head")[0]; var i = ".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"; var s = document.createElement("div"); s.innerHTML = '<p>x</p><style id="fit-vids-style">' + i + "</style>"; r.appendChild(s.childNodes[1]) } if (t) { e.extend(n, t) } return this.each(function () { var t = ["iframe[src*='player.vimeo.com']", "iframe[src*='youtube.com']", "iframe[src*='youtube-nocookie.com']", "iframe[src*='kickstarter.com'][src*='video.html']", "object", "embed"]; if (n.customSelector) { t.push(n.customSelector) } var r = ".fitvidsignore"; if (n.ignore) { r = r + ", " + n.ignore } var i = e(this).find(t.join(",")); i = i.not("object object"); i = i.not(r); i.each(function () { var t = e(this); if (t.parents(r).length > 0) { return } if (this.tagName.toLowerCase() === "embed" && t.parent("object").length || t.parent(".fluid-width-video-wrapper").length) { return } if (!t.css("height") && !t.css("width") && (isNaN(t.attr("height")) || isNaN(t.attr("width")))) { t.attr("height", 9); t.attr("width", 16) } var n = this.tagName.toLowerCase() === "object" || t.attr("height") && !isNaN(parseInt(t.attr("height"), 10)) ? parseInt(t.attr("height"), 10) : t.height(), i = !isNaN(parseInt(t.attr("width"), 10)) ? parseInt(t.attr("width"), 10) : t.width(), s = n / i; if (!t.attr("id")) { var o = "fitvid" + Math.floor(Math.random() * 999999); t.attr("id", o) } t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top", s * 100 + "%"); t.removeAttr("height").removeAttr("width") }) }) } })(window.jQuery || window.Zepto);


/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright � 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing["jswing"] = jQuery.easing["swing"]; jQuery.extend(jQuery.easing, { def: "easeOutQuad", swing: function (a, b, c, d, e) { return jQuery.easing[jQuery.easing.def](a, b, c, d, e) }, easeInQuad: function (a, b, c, d, e) { return d * (b /= e) * b + c }, easeOutQuad: function (a, b, c, d, e) { return -d * (b /= e) * (b - 2) + c }, easeInOutQuad: function (a, b, c, d, e) { if ((b /= e / 2) < 1) return d / 2 * b * b + c; return -d / 2 * (--b * (b - 2) - 1) + c }, easeInCubic: function (a, b, c, d, e) { return d * (b /= e) * b * b + c }, easeOutCubic: function (a, b, c, d, e) { return d * ((b = b / e - 1) * b * b + 1) + c }, easeInOutCubic: function (a, b, c, d, e) { if ((b /= e / 2) < 1) return d / 2 * b * b * b + c; return d / 2 * ((b -= 2) * b * b + 2) + c }, easeInQuart: function (a, b, c, d, e) { return d * (b /= e) * b * b * b + c }, easeOutQuart: function (a, b, c, d, e) { return -d * ((b = b / e - 1) * b * b * b - 1) + c }, easeInOutQuart: function (a, b, c, d, e) { if ((b /= e / 2) < 1) return d / 2 * b * b * b * b + c; return -d / 2 * ((b -= 2) * b * b * b - 2) + c }, easeInQuint: function (a, b, c, d, e) { return d * (b /= e) * b * b * b * b + c }, easeOutQuint: function (a, b, c, d, e) { return d * ((b = b / e - 1) * b * b * b * b + 1) + c }, easeInOutQuint: function (a, b, c, d, e) { if ((b /= e / 2) < 1) return d / 2 * b * b * b * b * b + c; return d / 2 * ((b -= 2) * b * b * b * b + 2) + c }, easeInSine: function (a, b, c, d, e) { return -d * Math.cos(b / e * (Math.PI / 2)) + d + c }, easeOutSine: function (a, b, c, d, e) { return d * Math.sin(b / e * (Math.PI / 2)) + c }, easeInOutSine: function (a, b, c, d, e) { return -d / 2 * (Math.cos(Math.PI * b / e) - 1) + c }, easeInExpo: function (a, b, c, d, e) { return b == 0 ? c : d * Math.pow(2, 10 * (b / e - 1)) + c }, easeOutExpo: function (a, b, c, d, e) { return b == e ? c + d : d * (-Math.pow(2, -10 * b / e) + 1) + c }, easeInOutExpo: function (a, b, c, d, e) { if (b == 0) return c; if (b == e) return c + d; if ((b /= e / 2) < 1) return d / 2 * Math.pow(2, 10 * (b - 1)) + c; return d / 2 * (-Math.pow(2, -10 * --b) + 2) + c }, easeInCirc: function (a, b, c, d, e) { return -d * (Math.sqrt(1 - (b /= e) * b) - 1) + c }, easeOutCirc: function (a, b, c, d, e) { return d * Math.sqrt(1 - (b = b / e - 1) * b) + c }, easeInOutCirc: function (a, b, c, d, e) { if ((b /= e / 2) < 1) return -d / 2 * (Math.sqrt(1 - b * b) - 1) + c; return d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c }, easeInElastic: function (a, b, c, d, e) { var f = 1.70158; var g = 0; var h = d; if (b == 0) return c; if ((b /= e) == 1) return c + d; if (!g) g = e * .3; if (h < Math.abs(d)) { h = d; var f = g / 4 } else var f = g / (2 * Math.PI) * Math.asin(d / h); return -(h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * 2 * Math.PI / g)) + c }, easeOutElastic: function (a, b, c, d, e) { var f = 1.70158; var g = 0; var h = d; if (b == 0) return c; if ((b /= e) == 1) return c + d; if (!g) g = e * .3; if (h < Math.abs(d)) { h = d; var f = g / 4 } else var f = g / (2 * Math.PI) * Math.asin(d / h); return h * Math.pow(2, -10 * b) * Math.sin((b * e - f) * 2 * Math.PI / g) + d + c }, easeInOutElastic: function (a, b, c, d, e) { var f = 1.70158; var g = 0; var h = d; if (b == 0) return c; if ((b /= e / 2) == 2) return c + d; if (!g) g = e * .3 * 1.5; if (h < Math.abs(d)) { h = d; var f = g / 4 } else var f = g / (2 * Math.PI) * Math.asin(d / h); if (b < 1) return -.5 * h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * 2 * Math.PI / g) + c; return h * Math.pow(2, -10 * (b -= 1)) * Math.sin((b * e - f) * 2 * Math.PI / g) * .5 + d + c }, easeInBack: function (a, b, c, d, e, f) { if (f == undefined) f = 1.70158; return d * (b /= e) * b * ((f + 1) * b - f) + c }, easeOutBack: function (a, b, c, d, e, f) { if (f == undefined) f = 1.70158; return d * ((b = b / e - 1) * b * ((f + 1) * b + f) + 1) + c }, easeInOutBack: function (a, b, c, d, e, f) { if (f == undefined) f = 1.70158; if ((b /= e / 2) < 1) return d / 2 * b * b * (((f *= 1.525) + 1) * b - f) + c; return d / 2 * ((b -= 2) * b * (((f *= 1.525) + 1) * b + f) + 2) + c }, easeInBounce: function (a, b, c, d, e) { return d - jQuery.easing.easeOutBounce(a, e - b, 0, d, e) + c }, easeOutBounce: function (a, b, c, d, e) { if ((b /= e) < 1 / 2.75) { return d * 7.5625 * b * b + c } else if (b < 2 / 2.75) { return d * (7.5625 * (b -= 1.5 / 2.75) * b + .75) + c } else if (b < 2.5 / 2.75) { return d * (7.5625 * (b -= 2.25 / 2.75) * b + .9375) + c } else { return d * (7.5625 * (b -= 2.625 / 2.75) * b + .984375) + c } }, easeInOutBounce: function (a, b, c, d, e) { if (b < e / 2) return jQuery.easing.easeInBounce(a, b * 2, 0, d, e) * .5 + c; return jQuery.easing.easeOutBounce(a, b * 2 - e, 0, d, e) * .5 + d * .5 + c } });
/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright � 2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */


/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.5
 **/
!function (a, b) { "object" == typeof exports ? module.exports = b(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], b) : b(a.jQuery) }(this, function (a) { var b = function (a, b) { var c, d = document.createElement("canvas"); a.appendChild(d), "undefined" != typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(d); var e = d.getContext("2d"); d.width = d.height = b.size; var f = 1; window.devicePixelRatio > 1 && (f = window.devicePixelRatio, d.style.width = d.style.height = [b.size, "px"].join(""), d.width = d.height = b.size * f, e.scale(f, f)), e.translate(b.size / 2, b.size / 2), e.rotate((-0.5 + b.rotate / 180) * Math.PI); var g = (b.size - b.lineWidth) / 2; b.scaleColor && b.scaleLength && (g -= b.scaleLength + 2), Date.now = Date.now || function () { return +new Date }; var h = function (a, b, c) { c = Math.min(Math.max(-1, c || 0), 1); var d = 0 >= c ? !0 : !1; e.beginPath(), e.arc(0, 0, g, 0, 2 * Math.PI * c, d), e.strokeStyle = a, e.lineWidth = b, e.stroke() }, i = function () { var a, c; e.lineWidth = 1, e.fillStyle = b.scaleColor, e.save(); for (var d = 24; d > 0; --d) d % 6 === 0 ? (c = b.scaleLength, a = 0) : (c = .6 * b.scaleLength, a = b.scaleLength - c), e.fillRect(-b.size / 2 + a, 0, c, 1), e.rotate(Math.PI / 12); e.restore() }, j = function () { return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (a) { window.setTimeout(a, 1e3 / 60) } }(), k = function () { b.scaleColor && i(), b.trackColor && h(b.trackColor, b.lineWidth, 1) }; this.getCanvas = function () { return d }, this.getCtx = function () { return e }, this.clear = function () { e.clearRect(b.size / -2, b.size / -2, b.size, b.size) }, this.draw = function (a) { b.scaleColor || b.trackColor ? e.getImageData && e.putImageData ? c ? e.putImageData(c, 0, 0) : (k(), c = e.getImageData(0, 0, b.size * f, b.size * f)) : (this.clear(), k()) : this.clear(), e.lineCap = b.lineCap; var d; d = "function" == typeof b.barColor ? b.barColor(a) : b.barColor, h(d, b.lineWidth, a / 100) }.bind(this), this.animate = function (a, c) { var d = Date.now(); b.onStart(a, c); var e = function () { var f = Math.min(Date.now() - d, b.animate.duration), g = b.easing(this, f, a, c - a, b.animate.duration); this.draw(g), b.onStep(a, c, g), f >= b.animate.duration ? b.onStop(a, c) : j(e) }.bind(this); j(e) }.bind(this) }, c = function (a, c) { var d = { barColor: "#ef1e25", trackColor: "#f9f9f9", scaleColor: "#dfe0e0", scaleLength: 5, lineCap: "round", lineWidth: 3, size: 110, rotate: 0, animate: { duration: 1e3, enabled: !0 }, easing: function (a, b, c, d, e) { return b /= e / 2, 1 > b ? d / 2 * b * b + c : -d / 2 * (--b * (b - 2) - 1) + c }, onStart: function () { }, onStep: function () { }, onStop: function () { } }; if ("undefined" != typeof b) d.renderer = b; else { if ("undefined" == typeof SVGRenderer) throw new Error("Please load either the SVG- or the CanvasRenderer"); d.renderer = SVGRenderer } var e = {}, f = 0, g = function () { this.el = a, this.options = e; for (var b in d) d.hasOwnProperty(b) && (e[b] = c && "undefined" != typeof c[b] ? c[b] : d[b], "function" == typeof e[b] && (e[b] = e[b].bind(this))); e.easing = "string" == typeof e.easing && "undefined" != typeof jQuery && jQuery.isFunction(jQuery.easing[e.easing]) ? jQuery.easing[e.easing] : d.easing, "number" == typeof e.animate && (e.animate = { duration: e.animate, enabled: !0 }), "boolean" != typeof e.animate || e.animate || (e.animate = { duration: 1e3, enabled: e.animate }), this.renderer = new e.renderer(a, e), this.renderer.draw(f), a.dataset && a.dataset.percent ? this.update(parseFloat(a.dataset.percent)) : a.getAttribute && a.getAttribute("data-percent") && this.update(parseFloat(a.getAttribute("data-percent"))) }.bind(this); this.update = function (a) { return a = parseFloat(a), e.animate.enabled ? this.renderer.animate(f, a) : this.renderer.draw(a), f = a, this }.bind(this), this.disableAnimation = function () { return e.animate.enabled = !1, this }, this.enableAnimation = function () { return e.animate.enabled = !0, this }, g() }; a.fn.easyPieChart = function (b) { return this.each(function () { var d; a.data(this, "easyPieChart") || (d = a.extend({}, b, a(this).data()), a.data(this, "easyPieChart", new c(this, d))) }) } });


/*
 *	jQuery carouFredSel 6.2.1
 *	Demo's and documentation:
 *	caroufredsel.dev7studios.com
 *
 *	Copyright (c) 2013 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */


(function ($) {
    function sc_setScroll(a, b, c) { return "transition" == c.transition && "swing" == b && (b = "ease"), { anims: [], duration: a, orgDuration: a, easing: b, startTime: getTime() } } function sc_startScroll(a, b) { for (var c = 0, d = a.anims.length; d > c; c++) { var e = a.anims[c]; e && e[0][b.transition](e[1], a.duration, a.easing, e[2]) } } function sc_stopScroll(a, b) { is_boolean(b) || (b = !0), is_object(a.pre) && sc_stopScroll(a.pre, b); for (var c = 0, d = a.anims.length; d > c; c++) { var e = a.anims[c]; e[0].stop(!0), b && (e[0].css(e[1]), is_function(e[2]) && e[2]()) } is_object(a.post) && sc_stopScroll(a.post, b) } function sc_afterScroll(a, b, c) { switch (b && b.remove(), c.fx) { case "fade": case "crossfade": case "cover-fade": case "uncover-fade": a.css("opacity", 1), a.css("filter", "") } } function sc_fireCallbacks(a, b, c, d, e) { if (b[c] && b[c].call(a, d), e[c].length) for (var f = 0, g = e[c].length; g > f; f++) e[c][f].call(a, d); return [] } function sc_fireQueue(a, b, c) { return b.length && (a.trigger(cf_e(b[0][0], c), b[0][1]), b.shift()), b } function sc_hideHiddenItems(a) { a.each(function () { var a = $(this); a.data("_cfs_isHidden", a.is(":hidden")).hide() }) } function sc_showHiddenItems(a) { a && a.each(function () { var a = $(this); a.data("_cfs_isHidden") || a.show() }) } function sc_clearTimers(a) { return a.auto && clearTimeout(a.auto), a.progress && clearInterval(a.progress), a } function sc_mapCallbackArguments(a, b, c, d, e, f, g) { return { width: g.width, height: g.height, items: { old: a, skipped: b, visible: c }, scroll: { items: d, direction: e, duration: f } } } function sc_getDuration(a, b, c, d) { var e = a.duration; return "none" == a.fx ? 0 : ("auto" == e ? e = b.scroll.duration / b.scroll.items * c : 10 > e && (e = d / e), 1 > e ? 0 : ("fade" == a.fx && (e /= 2), Math.round(e))) } function nv_showNavi(a, b, c) { var d = is_number(a.items.minimum) ? a.items.minimum : a.items.visible + 1; if ("show" == b || "hide" == b) var e = b; else if (d > b) { debug(c, "Not enough items (" + b + " total, " + d + " needed): Hiding navigation."); var e = "hide" } else var e = "show"; var f = "show" == e ? "removeClass" : "addClass", g = cf_c("hidden", c); a.auto.button && a.auto.button[e]()[f](g), a.prev.button && a.prev.button[e]()[f](g), a.next.button && a.next.button[e]()[f](g), a.pagination.container && a.pagination.container[e]()[f](g) } function nv_enableNavi(a, b, c) { if (!a.circular && !a.infinite) { var d = "removeClass" == b || "addClass" == b ? b : !1, e = cf_c("disabled", c); if (a.auto.button && d && a.auto.button[d](e), a.prev.button) { var f = d || 0 == b ? "addClass" : "removeClass"; a.prev.button[f](e) } if (a.next.button) { var f = d || b == a.items.visible ? "addClass" : "removeClass"; a.next.button[f](e) } } } function go_getObject(a, b) { return is_function(b) ? b = b.call(a) : is_undefined(b) && (b = {}), b } function go_getItemsObject(a, b) { return b = go_getObject(a, b), is_number(b) ? b = { visible: b } : "variable" == b ? b = { visible: b, width: b, height: b } : is_object(b) || (b = {}), b } function go_getScrollObject(a, b) { return b = go_getObject(a, b), is_number(b) ? b = 50 >= b ? { items: b } : { duration: b } : is_string(b) ? b = { easing: b } : is_object(b) || (b = {}), b } function go_getNaviObject(a, b) { if (b = go_getObject(a, b), is_string(b)) { var c = cf_getKeyCode(b); b = -1 == c ? $(b) : c } return b } function go_getAutoObject(a, b) { return b = go_getNaviObject(a, b), is_jquery(b) ? b = { button: b } : is_boolean(b) ? b = { play: b } : is_number(b) && (b = { timeoutDuration: b }), b.progress && (is_string(b.progress) || is_jquery(b.progress)) && (b.progress = { bar: b.progress }), b } function go_complementAutoObject(a, b) { return is_function(b.button) && (b.button = b.button.call(a)), is_string(b.button) && (b.button = $(b.button)), is_boolean(b.play) || (b.play = !0), is_number(b.delay) || (b.delay = 0), is_undefined(b.pauseOnEvent) && (b.pauseOnEvent = !0), is_boolean(b.pauseOnResize) || (b.pauseOnResize = !0), is_number(b.timeoutDuration) || (b.timeoutDuration = 10 > b.duration ? 2500 : 5 * b.duration), b.progress && (is_function(b.progress.bar) && (b.progress.bar = b.progress.bar.call(a)), is_string(b.progress.bar) && (b.progress.bar = $(b.progress.bar)), b.progress.bar ? (is_function(b.progress.updater) || (b.progress.updater = $.fn.carouFredSel.progressbarUpdater), is_number(b.progress.interval) || (b.progress.interval = 50)) : b.progress = !1), b } function go_getPrevNextObject(a, b) { return b = go_getNaviObject(a, b), is_jquery(b) ? b = { button: b } : is_number(b) && (b = { key: b }), b } function go_complementPrevNextObject(a, b) { return is_function(b.button) && (b.button = b.button.call(a)), is_string(b.button) && (b.button = $(b.button)), is_string(b.key) && (b.key = cf_getKeyCode(b.key)), b } function go_getPaginationObject(a, b) { return b = go_getNaviObject(a, b), is_jquery(b) ? b = { container: b } : is_boolean(b) && (b = { keys: b }), b } function go_complementPaginationObject(a, b) { return is_function(b.container) && (b.container = b.container.call(a)), is_string(b.container) && (b.container = $(b.container)), is_number(b.items) || (b.items = !1), is_boolean(b.keys) || (b.keys = !1), is_function(b.anchorBuilder) || is_false(b.anchorBuilder) || (b.anchorBuilder = $.fn.carouFredSel.pageAnchorBuilder), is_number(b.deviation) || (b.deviation = 0), b } function go_getSwipeObject(a, b) { return is_function(b) && (b = b.call(a)), is_undefined(b) && (b = { onTouch: !1 }), is_true(b) ? b = { onTouch: b } : is_number(b) && (b = { items: b }), b } function go_complementSwipeObject(a, b) { return is_boolean(b.onTouch) || (b.onTouch = !0), is_boolean(b.onMouse) || (b.onMouse = !1), is_object(b.options) || (b.options = {}), is_boolean(b.options.triggerOnTouchEnd) || (b.options.triggerOnTouchEnd = !1), b } function go_getMousewheelObject(a, b) { return is_function(b) && (b = b.call(a)), is_true(b) ? b = {} : is_number(b) ? b = { items: b } : is_undefined(b) && (b = !1), b } function go_complementMousewheelObject(a, b) { return b } function gn_getItemIndex(a, b, c, d, e) { if (is_string(a) && (a = $(a, e)), is_object(a) && (a = $(a, e)), is_jquery(a) ? (a = e.children().index(a), is_boolean(c) || (c = !1)) : is_boolean(c) || (c = !0), is_number(a) || (a = 0), is_number(b) || (b = 0), c && (a += d.first), a += b, d.total > 0) { for (; a >= d.total;) a -= d.total; for (; 0 > a;) a += d.total } return a } function gn_getVisibleItemsPrev(a, b, c) { for (var d = 0, e = 0, f = c; f >= 0; f--) { var g = a.eq(f); if (d += g.is(":visible") ? g[b.d.outerWidth](!0) : 0, d > b.maxDimension) return e; 0 == f && (f = a.length), e++ } } function gn_getVisibleItemsPrevFilter(a, b, c) { return gn_getItemsPrevFilter(a, b.items.filter, b.items.visibleConf.org, c) } function gn_getScrollItemsPrevFilter(a, b, c, d) { return gn_getItemsPrevFilter(a, b.items.filter, d, c) } function gn_getItemsPrevFilter(a, b, c, d) { for (var e = 0, f = 0, g = d, h = a.length; g >= 0; g--) { if (f++, f == h) return f; var i = a.eq(g); if (i.is(b) && (e++, e == c)) return f; 0 == g && (g = h) } } function gn_getVisibleOrg(a, b) { return b.items.visibleConf.org || a.children().slice(0, b.items.visible).filter(b.items.filter).length } function gn_getVisibleItemsNext(a, b, c) { for (var d = 0, e = 0, f = c, g = a.length - 1; g >= f; f++) { var h = a.eq(f); if (d += h.is(":visible") ? h[b.d.outerWidth](!0) : 0, d > b.maxDimension) return e; if (e++, e == g + 1) return e; f == g && (f = -1) } } function gn_getVisibleItemsNextTestCircular(a, b, c, d) { var e = gn_getVisibleItemsNext(a, b, c); return b.circular || c + e > d && (e = d - c), e } function gn_getVisibleItemsNextFilter(a, b, c) { return gn_getItemsNextFilter(a, b.items.filter, b.items.visibleConf.org, c, b.circular) } function gn_getScrollItemsNextFilter(a, b, c, d) { return gn_getItemsNextFilter(a, b.items.filter, d + 1, c, b.circular) - 1 } function gn_getItemsNextFilter(a, b, c, d) { for (var f = 0, g = 0, h = d, i = a.length - 1; i >= h; h++) { if (g++, g >= i) return g; var j = a.eq(h); if (j.is(b) && (f++, f == c)) return g; h == i && (h = -1) } } function gi_getCurrentItems(a, b) { return a.slice(0, b.items.visible) } function gi_getOldItemsPrev(a, b, c) { return a.slice(c, b.items.visibleConf.old + c) } function gi_getNewItemsPrev(a, b) { return a.slice(0, b.items.visible) } function gi_getOldItemsNext(a, b) { return a.slice(0, b.items.visibleConf.old) } function gi_getNewItemsNext(a, b, c) { return a.slice(c, b.items.visible + c) } function sz_storeMargin(a, b, c) { b.usePadding && (is_string(c) || (c = "_cfs_origCssMargin"), a.each(function () { var a = $(this), d = parseInt(a.css(b.d.marginRight), 10); is_number(d) || (d = 0), a.data(c, d) })) } function sz_resetMargin(a, b, c) { if (b.usePadding) { var d = is_boolean(c) ? c : !1; is_number(c) || (c = 0), sz_storeMargin(a, b, "_cfs_tempCssMargin"), a.each(function () { var a = $(this); a.css(b.d.marginRight, d ? a.data("_cfs_tempCssMargin") : c + a.data("_cfs_origCssMargin")) }) } } function sz_storeOrigCss(a) { a.each(function () { var a = $(this); a.data("_cfs_origCss", a.attr("style") || "") }) } function sz_restoreOrigCss(a) { a.each(function () { var a = $(this); a.attr("style", a.data("_cfs_origCss") || "") }) } function sz_setResponsiveSizes(a, b) { var d = (a.items.visible, a.items[a.d.width]), e = a[a.d.height], f = is_percentage(e); b.each(function () { var b = $(this), c = d - ms_getPaddingBorderMargin(b, a, "Width"); b[a.d.width](c), f && b[a.d.height](ms_getPercentage(c, e)) }) } function sz_setSizes(a, b) { var c = a.parent(), d = a.children(), e = gi_getCurrentItems(d, b), f = cf_mapWrapperSizes(ms_getSizes(e, b, !0), b, !1); if (c.css(f), b.usePadding) { var g = b.padding, h = g[b.d[1]]; b.align && 0 > h && (h = 0); var i = e.last(); i.css(b.d.marginRight, i.data("_cfs_origCssMargin") + h), a.css(b.d.top, g[b.d[0]]), a.css(b.d.left, g[b.d[3]]) } return a.css(b.d.width, f[b.d.width] + 2 * ms_getTotalSize(d, b, "width")), a.css(b.d.height, ms_getLargestSize(d, b, "height")), f } function ms_getSizes(a, b, c) { return [ms_getTotalSize(a, b, "width", c), ms_getLargestSize(a, b, "height", c)] } function ms_getLargestSize(a, b, c, d) { return is_boolean(d) || (d = !1), is_number(b[b.d[c]]) && d ? b[b.d[c]] : is_number(b.items[b.d[c]]) ? b.items[b.d[c]] : (c = c.toLowerCase().indexOf("width") > -1 ? "outerWidth" : "outerHeight", ms_getTrueLargestSize(a, b, c)) } function ms_getTrueLargestSize(a, b, c) { for (var d = 0, e = 0, f = a.length; f > e; e++) { var g = a.eq(e), h = g.is(":visible") ? g[b.d[c]](!0) : 0; h > d && (d = h) } return d } function ms_getTotalSize(a, b, c, d) { if (is_boolean(d) || (d = !1), is_number(b[b.d[c]]) && d) return b[b.d[c]]; if (is_number(b.items[b.d[c]])) return b.items[b.d[c]] * a.length; for (var e = c.toLowerCase().indexOf("width") > -1 ? "outerWidth" : "outerHeight", f = 0, g = 0, h = a.length; h > g; g++) { var i = a.eq(g); f += i.is(":visible") ? i[b.d[e]](!0) : 0 } return f } function ms_getParentSize(a, b, c) { var d = a.is(":visible"); d && a.hide(); var e = a.parent()[b.d[c]](); return d && a.show(), e } function ms_getMaxDimension(a, b) { return is_number(a[a.d.width]) ? a[a.d.width] : b } function ms_hasVariableSizes(a, b, c) { for (var d = !1, e = !1, f = 0, g = a.length; g > f; f++) { var h = a.eq(f), i = h.is(":visible") ? h[b.d[c]](!0) : 0; d === !1 ? d = i : d != i && (e = !0), 0 == d && (e = !0) } return e } function ms_getPaddingBorderMargin(a, b, c) { return a[b.d["outer" + c]](!0) - a[b.d[c.toLowerCase()]]() } function ms_getPercentage(a, b) { if (is_percentage(b)) { if (b = parseInt(b.slice(0, -1), 10), !is_number(b)) return a; a *= b / 100 } return a } function cf_e(a, b, c, d, e) { return is_boolean(c) || (c = !0), is_boolean(d) || (d = !0), is_boolean(e) || (e = !1), c && (a = b.events.prefix + a), d && (a = a + "." + b.events.namespace), d && e && (a += b.serialNumber), a } function cf_c(a, b) { return is_string(b.classnames[a]) ? b.classnames[a] : a } function cf_mapWrapperSizes(a, b, c) { is_boolean(c) || (c = !0); var d = b.usePadding && c ? b.padding : [0, 0, 0, 0], e = {}; return e[b.d.width] = a[0] + d[1] + d[3], e[b.d.height] = a[1] + d[0] + d[2], e } function cf_sortParams(a, b) { for (var c = [], d = 0, e = a.length; e > d; d++) for (var f = 0, g = b.length; g > f; f++) if (b[f].indexOf(typeof a[d]) > -1 && is_undefined(c[f])) { c[f] = a[d]; break } return c } function cf_getPadding(a) { if (is_undefined(a)) return [0, 0, 0, 0]; if (is_number(a)) return [a, a, a, a]; if (is_string(a) && (a = a.split("px").join("").split("em").join("").split(" ")), !is_array(a)) return [0, 0, 0, 0]; for (var b = 0; 4 > b; b++) a[b] = parseInt(a[b], 10); switch (a.length) { case 0: return [0, 0, 0, 0]; case 1: return [a[0], a[0], a[0], a[0]]; case 2: return [a[0], a[1], a[0], a[1]]; case 3: return [a[0], a[1], a[2], a[1]]; default: return [a[0], a[1], a[2], a[3]] } } function cf_getAlignPadding(a, b) { var c = is_number(b[b.d.width]) ? Math.ceil(b[b.d.width] - ms_getTotalSize(a, b, "width")) : 0; switch (b.align) { case "left": return [0, c]; case "right": return [c, 0]; case "center": default: return [Math.ceil(c / 2), Math.floor(c / 2)] } } function cf_getDimensions(a) { for (var b = [["width", "innerWidth", "outerWidth", "height", "innerHeight", "outerHeight", "left", "top", "marginRight", 0, 1, 2, 3], ["height", "innerHeight", "outerHeight", "width", "innerWidth", "outerWidth", "top", "left", "marginBottom", 3, 2, 1, 0]], c = b[0].length, d = "right" == a.direction || "left" == a.direction ? 0 : 1, e = {}, f = 0; c > f; f++) e[b[0][f]] = b[d][f]; return e } function cf_getAdjust(a, b, c, d) { var e = a; if (is_function(c)) e = c.call(d, e); else if (is_string(c)) { var f = c.split("+"), g = c.split("-"); if (g.length > f.length) var h = !0, i = g[0], j = g[1]; else var h = !1, i = f[0], j = f[1]; switch (i) { case "even": e = 1 == a % 2 ? a - 1 : a; break; case "odd": e = 0 == a % 2 ? a - 1 : a; break; default: e = a } j = parseInt(j, 10), is_number(j) && (h && (j = -j), e += j) } return (!is_number(e) || 1 > e) && (e = 1), e } function cf_getItemsAdjust(a, b, c, d) { return cf_getItemAdjustMinMax(cf_getAdjust(a, b, c, d), b.items.visibleConf) } function cf_getItemAdjustMinMax(a, b) { return is_number(b.min) && b.min > a && (a = b.min), is_number(b.max) && a > b.max && (a = b.max), 1 > a && (a = 1), a } function cf_getSynchArr(a) { is_array(a) || (a = [[a]]), is_array(a[0]) || (a = [a]); for (var b = 0, c = a.length; c > b; b++) is_string(a[b][0]) && (a[b][0] = $(a[b][0])), is_boolean(a[b][1]) || (a[b][1] = !0), is_boolean(a[b][2]) || (a[b][2] = !0), is_number(a[b][3]) || (a[b][3] = 0); return a } function cf_getKeyCode(a) { return "right" == a ? 39 : "left" == a ? 37 : "up" == a ? 38 : "down" == a ? 40 : -1 } function cf_setCookie(a, b, c) { if (a) { var d = b.triggerHandler(cf_e("currentPosition", c)); $.fn.carouFredSel.cookie.set(a, d) } } function cf_getCookie(a) { var b = $.fn.carouFredSel.cookie.get(a); return "" == b ? 0 : b } function in_mapCss(a, b) { for (var c = {}, d = 0, e = b.length; e > d; d++) c[b[d]] = a.css(b[d]); return c } function in_complementItems(a, b, c, d) { return is_object(a.visibleConf) || (a.visibleConf = {}), is_object(a.sizesConf) || (a.sizesConf = {}), 0 == a.start && is_number(d) && (a.start = d), is_object(a.visible) ? (a.visibleConf.min = a.visible.min, a.visibleConf.max = a.visible.max, a.visible = !1) : is_string(a.visible) ? ("variable" == a.visible ? a.visibleConf.variable = !0 : a.visibleConf.adjust = a.visible, a.visible = !1) : is_function(a.visible) && (a.visibleConf.adjust = a.visible, a.visible = !1), is_string(a.filter) || (a.filter = c.filter(":hidden").length > 0 ? ":visible" : "*"), a[b.d.width] || (b.responsive ? (debug(!0, "Set a " + b.d.width + " for the items!"), a[b.d.width] = ms_getTrueLargestSize(c, b, "outerWidth")) : a[b.d.width] = ms_hasVariableSizes(c, b, "outerWidth") ? "variable" : c[b.d.outerWidth](!0)), a[b.d.height] || (a[b.d.height] = ms_hasVariableSizes(c, b, "outerHeight") ? "variable" : c[b.d.outerHeight](!0)), a.sizesConf.width = a.width, a.sizesConf.height = a.height, a } function in_complementVisibleItems(a, b) { return "variable" == a.items[a.d.width] && (a.items.visibleConf.variable = !0), a.items.visibleConf.variable || (is_number(a[a.d.width]) ? a.items.visible = Math.floor(a[a.d.width] / a.items[a.d.width]) : (a.items.visible = Math.floor(b / a.items[a.d.width]), a[a.d.width] = a.items.visible * a.items[a.d.width], a.items.visibleConf.adjust || (a.align = !1)), ("Infinity" == a.items.visible || 1 > a.items.visible) && (debug(!0, 'Not a valid number of visible items: Set to "variable".'), a.items.visibleConf.variable = !0)), a } function in_complementPrimarySize(a, b, c) { return "auto" == a && (a = ms_getTrueLargestSize(c, b, "outerWidth")), a } function in_complementSecondarySize(a, b, c) { return "auto" == a && (a = ms_getTrueLargestSize(c, b, "outerHeight")), a || (a = b.items[b.d.height]), a } function in_getAlignPadding(a, b) { var c = cf_getAlignPadding(gi_getCurrentItems(b, a), a); return a.padding[a.d[1]] = c[1], a.padding[a.d[3]] = c[0], a } function in_getResponsiveValues(a, b) { var d = cf_getItemAdjustMinMax(Math.ceil(a[a.d.width] / a.items[a.d.width]), a.items.visibleConf); d > b.length && (d = b.length); var e = Math.floor(a[a.d.width] / d); return a.items.visible = d, a.items[a.d.width] = e, a[a.d.width] = d * e, a } function bt_pauseOnHoverConfig(a) { if (is_string(a)) var b = a.indexOf("immediate") > -1 ? !0 : !1, c = a.indexOf("resume") > -1 ? !0 : !1; else var b = c = !1; return [b, c] } function bt_mousesheelNumber(a) { return is_number(a) ? a : null } function is_null(a) { return null === a } function is_undefined(a) { return is_null(a) || a === void 0 || "" === a || "undefined" === a } function is_array(a) { return a instanceof Array } function is_jquery(a) { return a instanceof jQuery } function is_object(a) { return (a instanceof Object || "object" == typeof a) && !is_null(a) && !is_jquery(a) && !is_array(a) && !is_function(a) } function is_number(a) { return (a instanceof Number || "number" == typeof a) && !isNaN(a) } function is_string(a) { return (a instanceof String || "string" == typeof a) && !is_undefined(a) && !is_true(a) && !is_false(a) } function is_function(a) { return a instanceof Function || "function" == typeof a } function is_boolean(a) { return a instanceof Boolean || "boolean" == typeof a || is_true(a) || is_false(a) } function is_true(a) { return a === !0 || "true" === a } function is_false(a) { return a === !1 || "false" === a } function is_percentage(a) { return is_string(a) && "%" == a.slice(-1) } function getTime() { return (new Date).getTime() } function deprecated(a, b) { debug(!0, a + " is DEPRECATED, support for it will be removed. Use " + b + " instead.") } function debug(a, b) { if (!is_undefined(window.console) && !is_undefined(window.console.log)) { if (is_object(a)) { var c = " (" + a.selector + ")"; a = a.debug } else var c = ""; if (!a) return !1; b = is_string(b) ? "carouFredSel" + c + ": " + b : ["carouFredSel" + c + ":", b], window.console.log(b) } return !1 } $.fn.carouFredSel || ($.fn.caroufredsel = $.fn.carouFredSel = function (options, configs) {
        if (0 == this.length) return debug(!0, 'No element found for "' + this.selector + '".'), this; if (this.length > 1) return this.each(function () { $(this).carouFredSel(options, configs) }); var $cfs = this, $tt0 = this[0], starting_position = !1; $cfs.data("_cfs_isCarousel") && (starting_position = $cfs.triggerHandler("_cfs_triggerEvent", "currentPosition"), $cfs.trigger("_cfs_triggerEvent", ["destroy", !0])); var FN = {}; FN._init = function (a, b, c) { a = go_getObject($tt0, a), a.items = go_getItemsObject($tt0, a.items), a.scroll = go_getScrollObject($tt0, a.scroll), a.auto = go_getAutoObject($tt0, a.auto), a.prev = go_getPrevNextObject($tt0, a.prev), a.next = go_getPrevNextObject($tt0, a.next), a.pagination = go_getPaginationObject($tt0, a.pagination), a.swipe = go_getSwipeObject($tt0, a.swipe), a.mousewheel = go_getMousewheelObject($tt0, a.mousewheel), b && (opts_orig = $.extend(!0, {}, $.fn.carouFredSel.defaults, a)), opts = $.extend(!0, {}, $.fn.carouFredSel.defaults, a), opts.d = cf_getDimensions(opts), crsl.direction = "up" == opts.direction || "left" == opts.direction ? "next" : "prev"; var d = $cfs.children(), e = ms_getParentSize($wrp, opts, "width"); if (is_true(opts.cookie) && (opts.cookie = "caroufredsel_cookie_" + conf.serialNumber), opts.maxDimension = ms_getMaxDimension(opts, e), opts.items = in_complementItems(opts.items, opts, d, c), opts[opts.d.width] = in_complementPrimarySize(opts[opts.d.width], opts, d), opts[opts.d.height] = in_complementSecondarySize(opts[opts.d.height], opts, d), opts.responsive && (is_percentage(opts[opts.d.width]) || (opts[opts.d.width] = "100%")), is_percentage(opts[opts.d.width]) && (crsl.upDateOnWindowResize = !0, crsl.primarySizePercentage = opts[opts.d.width], opts[opts.d.width] = ms_getPercentage(e, crsl.primarySizePercentage), opts.items.visible || (opts.items.visibleConf.variable = !0)), opts.responsive ? (opts.usePadding = !1, opts.padding = [0, 0, 0, 0], opts.align = !1, opts.items.visibleConf.variable = !1) : (opts.items.visible || (opts = in_complementVisibleItems(opts, e)), opts[opts.d.width] || (!opts.items.visibleConf.variable && is_number(opts.items[opts.d.width]) && "*" == opts.items.filter ? (opts[opts.d.width] = opts.items.visible * opts.items[opts.d.width], opts.align = !1) : opts[opts.d.width] = "variable"), is_undefined(opts.align) && (opts.align = is_number(opts[opts.d.width]) ? "center" : !1), opts.items.visibleConf.variable && (opts.items.visible = gn_getVisibleItemsNext(d, opts, 0))), "*" == opts.items.filter || opts.items.visibleConf.variable || (opts.items.visibleConf.org = opts.items.visible, opts.items.visible = gn_getVisibleItemsNextFilter(d, opts, 0)), opts.items.visible = cf_getItemsAdjust(opts.items.visible, opts, opts.items.visibleConf.adjust, $tt0), opts.items.visibleConf.old = opts.items.visible, opts.responsive) opts.items.visibleConf.min || (opts.items.visibleConf.min = opts.items.visible), opts.items.visibleConf.max || (opts.items.visibleConf.max = opts.items.visible), opts = in_getResponsiveValues(opts, d, e); else switch (opts.padding = cf_getPadding(opts.padding), "top" == opts.align ? opts.align = "left" : "bottom" == opts.align && (opts.align = "right"), opts.align) { case "center": case "left": case "right": "variable" != opts[opts.d.width] && (opts = in_getAlignPadding(opts, d), opts.usePadding = !0); break; default: opts.align = !1, opts.usePadding = 0 == opts.padding[0] && 0 == opts.padding[1] && 0 == opts.padding[2] && 0 == opts.padding[3] ? !1 : !0 } is_number(opts.scroll.duration) || (opts.scroll.duration = 500), is_undefined(opts.scroll.items) && (opts.scroll.items = opts.responsive || opts.items.visibleConf.variable || "*" != opts.items.filter ? "visible" : opts.items.visible), opts.auto = $.extend(!0, {}, opts.scroll, opts.auto), opts.prev = $.extend(!0, {}, opts.scroll, opts.prev), opts.next = $.extend(!0, {}, opts.scroll, opts.next), opts.pagination = $.extend(!0, {}, opts.scroll, opts.pagination), opts.auto = go_complementAutoObject($tt0, opts.auto), opts.prev = go_complementPrevNextObject($tt0, opts.prev), opts.next = go_complementPrevNextObject($tt0, opts.next), opts.pagination = go_complementPaginationObject($tt0, opts.pagination), opts.swipe = go_complementSwipeObject($tt0, opts.swipe), opts.mousewheel = go_complementMousewheelObject($tt0, opts.mousewheel), opts.synchronise && (opts.synchronise = cf_getSynchArr(opts.synchronise)), opts.auto.onPauseStart && (opts.auto.onTimeoutStart = opts.auto.onPauseStart, deprecated("auto.onPauseStart", "auto.onTimeoutStart")), opts.auto.onPausePause && (opts.auto.onTimeoutPause = opts.auto.onPausePause, deprecated("auto.onPausePause", "auto.onTimeoutPause")), opts.auto.onPauseEnd && (opts.auto.onTimeoutEnd = opts.auto.onPauseEnd, deprecated("auto.onPauseEnd", "auto.onTimeoutEnd")), opts.auto.pauseDuration && (opts.auto.timeoutDuration = opts.auto.pauseDuration, deprecated("auto.pauseDuration", "auto.timeoutDuration")) }, FN._build = function () { $cfs.data("_cfs_isCarousel", !0); var a = $cfs.children(), b = in_mapCss($cfs, ["textAlign", "float", "position", "top", "right", "bottom", "left", "zIndex", "width", "height", "marginTop", "marginRight", "marginBottom", "marginLeft"]), c = "relative"; switch (b.position) { case "absolute": case "fixed": c = b.position } "parent" == conf.wrapper ? sz_storeOrigCss($wrp) : $wrp.css(b), $wrp.css({ overflow: "hidden", position: c }), sz_storeOrigCss($cfs), $cfs.data("_cfs_origCssZindex", b.zIndex), $cfs.css({ textAlign: "left", "float": "none", position: "absolute", top: 0, right: "auto", bottom: "auto", left: 0, marginTop: 0, marginRight: 0, marginBottom: 0, marginLeft: 0 }), sz_storeMargin(a, opts), sz_storeOrigCss(a), opts.responsive && sz_setResponsiveSizes(opts, a) }, FN._bind_events = function () {
            FN._unbind_events(), $cfs.bind(cf_e("stop", conf), function (a, b) { return a.stopPropagation(), crsl.isStopped || opts.auto.button && opts.auto.button.addClass(cf_c("stopped", conf)), crsl.isStopped = !0, opts.auto.play && (opts.auto.play = !1, $cfs.trigger(cf_e("pause", conf), b)), !0 }), $cfs.bind(cf_e("finish", conf), function (a) { return a.stopPropagation(), crsl.isScrolling && sc_stopScroll(scrl), !0 }), $cfs.bind(cf_e("pause", conf), function (a, b, c) { if (a.stopPropagation(), tmrs = sc_clearTimers(tmrs), b && crsl.isScrolling) { scrl.isStopped = !0; var d = getTime() - scrl.startTime; scrl.duration -= d, scrl.pre && (scrl.pre.duration -= d), scrl.post && (scrl.post.duration -= d), sc_stopScroll(scrl, !1) } if (crsl.isPaused || crsl.isScrolling || c && (tmrs.timePassed += getTime() - tmrs.startTime), crsl.isPaused || opts.auto.button && opts.auto.button.addClass(cf_c("paused", conf)), crsl.isPaused = !0, opts.auto.onTimeoutPause) { var e = opts.auto.timeoutDuration - tmrs.timePassed, f = 100 - Math.ceil(100 * e / opts.auto.timeoutDuration); opts.auto.onTimeoutPause.call($tt0, f, e) } return !0 }), $cfs.bind(cf_e("play", conf), function (a, b, c, d) { a.stopPropagation(), tmrs = sc_clearTimers(tmrs); var e = [b, c, d], f = ["string", "number", "boolean"], g = cf_sortParams(e, f); if (b = g[0], c = g[1], d = g[2], "prev" != b && "next" != b && (b = crsl.direction), is_number(c) || (c = 0), is_boolean(d) || (d = !1), d && (crsl.isStopped = !1, opts.auto.play = !0), !opts.auto.play) return a.stopImmediatePropagation(), debug(conf, "Carousel stopped: Not scrolling."); crsl.isPaused && opts.auto.button && (opts.auto.button.removeClass(cf_c("stopped", conf)), opts.auto.button.removeClass(cf_c("paused", conf))), crsl.isPaused = !1, tmrs.startTime = getTime(); var h = opts.auto.timeoutDuration + c; return dur2 = h - tmrs.timePassed, perc = 100 - Math.ceil(100 * dur2 / h), opts.auto.progress && (tmrs.progress = setInterval(function () { var a = getTime() - tmrs.startTime + tmrs.timePassed, b = Math.ceil(100 * a / h); opts.auto.progress.updater.call(opts.auto.progress.bar[0], b) }, opts.auto.progress.interval)), tmrs.auto = setTimeout(function () { opts.auto.progress && opts.auto.progress.updater.call(opts.auto.progress.bar[0], 100), opts.auto.onTimeoutEnd && opts.auto.onTimeoutEnd.call($tt0, perc, dur2), crsl.isScrolling ? $cfs.trigger(cf_e("play", conf), b) : $cfs.trigger(cf_e(b, conf), opts.auto) }, dur2), opts.auto.onTimeoutStart && opts.auto.onTimeoutStart.call($tt0, perc, dur2), !0 }), $cfs.bind(cf_e("resume", conf), function (a) { return a.stopPropagation(), scrl.isStopped ? (scrl.isStopped = !1, crsl.isPaused = !1, crsl.isScrolling = !0, scrl.startTime = getTime(), sc_startScroll(scrl, conf)) : $cfs.trigger(cf_e("play", conf)), !0 }), $cfs.bind(cf_e("prev", conf) + " " + cf_e("next", conf), function (a, b, c, d, e) { if (a.stopPropagation(), crsl.isStopped || $cfs.is(":hidden")) return a.stopImmediatePropagation(), debug(conf, "Carousel stopped or hidden: Not scrolling."); var f = is_number(opts.items.minimum) ? opts.items.minimum : opts.items.visible + 1; if (f > itms.total) return a.stopImmediatePropagation(), debug(conf, "Not enough items (" + itms.total + " total, " + f + " needed): Not scrolling."); var g = [b, c, d, e], h = ["object", "number/string", "function", "boolean"], i = cf_sortParams(g, h); b = i[0], c = i[1], d = i[2], e = i[3]; var j = a.type.slice(conf.events.prefix.length); if (is_object(b) || (b = {}), is_function(d) && (b.onAfter = d), is_boolean(e) && (b.queue = e), b = $.extend(!0, {}, opts[j], b), b.conditions && !b.conditions.call($tt0, j)) return a.stopImmediatePropagation(), debug(conf, 'Callback "conditions" returned false.'); if (!is_number(c)) { if ("*" != opts.items.filter) c = "visible"; else for (var k = [c, b.items, opts[j].items], i = 0, l = k.length; l > i; i++) if (is_number(k[i]) || "page" == k[i] || "visible" == k[i]) { c = k[i]; break } switch (c) { case "page": return a.stopImmediatePropagation(), $cfs.triggerHandler(cf_e(j + "Page", conf), [b, d]); case "visible": opts.items.visibleConf.variable || "*" != opts.items.filter || (c = opts.items.visible) } } if (scrl.isStopped) return $cfs.trigger(cf_e("resume", conf)), $cfs.trigger(cf_e("queue", conf), [j, [b, c, d]]), a.stopImmediatePropagation(), debug(conf, "Carousel resumed scrolling."); if (b.duration > 0 && crsl.isScrolling) return b.queue && ("last" == b.queue && (queu = []), ("first" != b.queue || 0 == queu.length) && $cfs.trigger(cf_e("queue", conf), [j, [b, c, d]])), a.stopImmediatePropagation(), debug(conf, "Carousel currently scrolling."); if (tmrs.timePassed = 0, $cfs.trigger(cf_e("slide_" + j, conf), [b, c]), opts.synchronise) for (var m = opts.synchronise, n = [b, c], o = 0, l = m.length; l > o; o++) { var p = j; m[o][2] || (p = "prev" == p ? "next" : "prev"), m[o][1] || (n[0] = m[o][0].triggerHandler("_cfs_triggerEvent", ["configuration", p])), n[1] = c + m[o][3], m[o][0].trigger("_cfs_triggerEvent", ["slide_" + p, n]) } return !0 }), $cfs.bind(cf_e("slide_prev", conf), function (a, b, c) {
                a.stopPropagation(); var d = $cfs.children(); if (!opts.circular && 0 == itms.first) return opts.infinite && $cfs.trigger(cf_e("next", conf), itms.total - 1), a.stopImmediatePropagation(); if (sz_resetMargin(d, opts), !is_number(c)) { if (opts.items.visibleConf.variable) c = gn_getVisibleItemsPrev(d, opts, itms.total - 1); else if ("*" != opts.items.filter) { var e = is_number(b.items) ? b.items : gn_getVisibleOrg($cfs, opts); c = gn_getScrollItemsPrevFilter(d, opts, itms.total - 1, e) } else c = opts.items.visible; c = cf_getAdjust(c, opts, b.items, $tt0) } if (opts.circular || itms.total - c < itms.first && (c = itms.total - itms.first), opts.items.visibleConf.old = opts.items.visible, opts.items.visibleConf.variable) { var f = cf_getItemsAdjust(gn_getVisibleItemsNext(d, opts, itms.total - c), opts, opts.items.visibleConf.adjust, $tt0); f >= opts.items.visible + c && itms.total > c && (c++, f = cf_getItemsAdjust(gn_getVisibleItemsNext(d, opts, itms.total - c), opts, opts.items.visibleConf.adjust, $tt0)), opts.items.visible = f } else if ("*" != opts.items.filter) { var f = gn_getVisibleItemsNextFilter(d, opts, itms.total - c); opts.items.visible = cf_getItemsAdjust(f, opts, opts.items.visibleConf.adjust, $tt0) } if (sz_resetMargin(d, opts, !0), 0 == c) return a.stopImmediatePropagation(), debug(conf, "0 items to scroll: Not scrolling."); for (debug(conf, "Scrolling " + c + " items backward."), itms.first += c; itms.first >= itms.total;) itms.first -= itms.total; opts.circular || (0 == itms.first && b.onEnd && b.onEnd.call($tt0, "prev"), opts.infinite || nv_enableNavi(opts, itms.first, conf)), $cfs.children().slice(itms.total - c, itms.total).prependTo($cfs), itms.total < opts.items.visible + c && $cfs.children().slice(0, opts.items.visible + c - itms.total).clone(!0).appendTo($cfs); var d = $cfs.children(), g = gi_getOldItemsPrev(d, opts, c), h = gi_getNewItemsPrev(d, opts), i = d.eq(c - 1), j = g.last(), k = h.last(); sz_resetMargin(d, opts); var l = 0, m = 0; if (opts.align) { var n = cf_getAlignPadding(h, opts); l = n[0], m = n[1] } var o = 0 > l ? opts.padding[opts.d[3]] : 0, p = !1, q = $(); if (c > opts.items.visible && (q = d.slice(opts.items.visibleConf.old, c), "directscroll" == b.fx)) { var r = opts.items[opts.d.width]; p = q, i = k, sc_hideHiddenItems(p), opts.items[opts.d.width] = "variable" } var s = !1, t = ms_getTotalSize(d.slice(0, c), opts, "width"), u = cf_mapWrapperSizes(ms_getSizes(h, opts, !0), opts, !opts.usePadding), v = 0, w = {}, x = {}, y = {}, z = {}, A = {}, B = {}, C = {}, D = sc_getDuration(b, opts, c, t); switch (b.fx) { case "cover": case "cover-fade": v = ms_getTotalSize(d.slice(0, opts.items.visible), opts, "width") } p && (opts.items[opts.d.width] = r), sz_resetMargin(d, opts, !0), m >= 0 && sz_resetMargin(j, opts, opts.padding[opts.d[1]]), l >= 0 && sz_resetMargin(i, opts, opts.padding[opts.d[3]]), opts.align && (opts.padding[opts.d[1]] = m, opts.padding[opts.d[3]] = l), B[opts.d.left] = -(t - o), C[opts.d.left] = -(v - o), x[opts.d.left] = u[opts.d.width]; var E = function () { }, F = function () { }, G = function () { }, H = function () { }, I = function () { }, J = function () { }, K = function () { }, L = function () { }, M = function () { }, N = function () { }, O = function () { }; switch (b.fx) { case "crossfade": case "cover": case "cover-fade": case "uncover": case "uncover-fade": s = $cfs.clone(!0).appendTo($wrp) } switch (b.fx) { case "crossfade": case "uncover": case "uncover-fade": s.children().slice(0, c).remove(), s.children().slice(opts.items.visibleConf.old).remove(); break; case "cover": case "cover-fade": s.children().slice(opts.items.visible).remove(), s.css(C) } if ($cfs.css(B), scrl = sc_setScroll(D, b.easing, conf), w[opts.d.left] = opts.usePadding ? opts.padding[opts.d[3]] : 0, ("variable" == opts[opts.d.width] || "variable" == opts[opts.d.height]) && (E = function () { $wrp.css(u) }, F = function () { scrl.anims.push([$wrp, u]) }), opts.usePadding) { switch (k.not(i).length && (y[opts.d.marginRight] = i.data("_cfs_origCssMargin"), 0 > l ? i.css(y) : (K = function () { i.css(y) }, L = function () { scrl.anims.push([i, y]) })), b.fx) { case "cover": case "cover-fade": s.children().eq(c - 1).css(y) } k.not(j).length && (z[opts.d.marginRight] = j.data("_cfs_origCssMargin"), G = function () { j.css(z) }, H = function () { scrl.anims.push([j, z]) }), m >= 0 && (A[opts.d.marginRight] = k.data("_cfs_origCssMargin") + opts.padding[opts.d[1]], I = function () { k.css(A) }, J = function () { scrl.anims.push([k, A]) }) } O = function () { $cfs.css(w) }; var P = opts.items.visible + c - itms.total; N = function () { if (P > 0 && ($cfs.children().slice(itms.total).remove(), g = $($cfs.children().slice(itms.total - (opts.items.visible - P)).get().concat($cfs.children().slice(0, P).get()))), sc_showHiddenItems(p), opts.usePadding) { var a = $cfs.children().eq(opts.items.visible + c - 1); a.css(opts.d.marginRight, a.data("_cfs_origCssMargin")) } }; var Q = sc_mapCallbackArguments(g, q, h, c, "prev", D, u); switch (M = function () { sc_afterScroll($cfs, s, b), crsl.isScrolling = !1, clbk.onAfter = sc_fireCallbacks($tt0, b, "onAfter", Q, clbk), queu = sc_fireQueue($cfs, queu, conf), crsl.isPaused || $cfs.trigger(cf_e("play", conf)) }, crsl.isScrolling = !0, tmrs = sc_clearTimers(tmrs), clbk.onBefore = sc_fireCallbacks($tt0, b, "onBefore", Q, clbk), b.fx) { case "none": $cfs.css(w), E(), G(), I(), K(), O(), N(), M(); break; case "fade": scrl.anims.push([$cfs, { opacity: 0 }, function () { E(), G(), I(), K(), O(), N(), scrl = sc_setScroll(D, b.easing, conf), scrl.anims.push([$cfs, { opacity: 1 }, M]), sc_startScroll(scrl, conf) }]); break; case "crossfade": $cfs.css({ opacity: 0 }), scrl.anims.push([s, { opacity: 0 }]), scrl.anims.push([$cfs, { opacity: 1 }, M]), F(), G(), I(), K(), O(), N(); break; case "cover": scrl.anims.push([s, w, function () { G(), I(), K(), O(), N(), M() }]), F(); break; case "cover-fade": scrl.anims.push([$cfs, { opacity: 0 }]), scrl.anims.push([s, w, function () { G(), I(), K(), O(), N(), M() }]), F(); break; case "uncover": scrl.anims.push([s, x, M]), F(), G(), I(), K(), O(), N(); break; case "uncover-fade": $cfs.css({ opacity: 0 }), scrl.anims.push([$cfs, { opacity: 1 }]), scrl.anims.push([s, x, M]), F(), G(), I(), K(), O(), N(); break; default: scrl.anims.push([$cfs, w, function () { N(), M() }]), F(), H(), J(), L() } return sc_startScroll(scrl, conf), cf_setCookie(opts.cookie, $cfs, conf), $cfs.trigger(cf_e("updatePageStatus", conf), [!1, u]), !0
            }), $cfs.bind(cf_e("slide_next", conf), function (a, b, c) { a.stopPropagation(); var d = $cfs.children(); if (!opts.circular && itms.first == opts.items.visible) return opts.infinite && $cfs.trigger(cf_e("prev", conf), itms.total - 1), a.stopImmediatePropagation(); if (sz_resetMargin(d, opts), !is_number(c)) { if ("*" != opts.items.filter) { var e = is_number(b.items) ? b.items : gn_getVisibleOrg($cfs, opts); c = gn_getScrollItemsNextFilter(d, opts, 0, e) } else c = opts.items.visible; c = cf_getAdjust(c, opts, b.items, $tt0) } var f = 0 == itms.first ? itms.total : itms.first; if (!opts.circular) { if (opts.items.visibleConf.variable) var g = gn_getVisibleItemsNext(d, opts, c), e = gn_getVisibleItemsPrev(d, opts, f - 1); else var g = opts.items.visible, e = opts.items.visible; c + g > f && (c = f - e) } if (opts.items.visibleConf.old = opts.items.visible, opts.items.visibleConf.variable) { for (var g = cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d, opts, c, f), opts, opts.items.visibleConf.adjust, $tt0) ; opts.items.visible - c >= g && itms.total > c;) c++, g = cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d, opts, c, f), opts, opts.items.visibleConf.adjust, $tt0); opts.items.visible = g } else if ("*" != opts.items.filter) { var g = gn_getVisibleItemsNextFilter(d, opts, c); opts.items.visible = cf_getItemsAdjust(g, opts, opts.items.visibleConf.adjust, $tt0) } if (sz_resetMargin(d, opts, !0), 0 == c) return a.stopImmediatePropagation(), debug(conf, "0 items to scroll: Not scrolling."); for (debug(conf, "Scrolling " + c + " items forward."), itms.first -= c; 0 > itms.first;) itms.first += itms.total; opts.circular || (itms.first == opts.items.visible && b.onEnd && b.onEnd.call($tt0, "next"), opts.infinite || nv_enableNavi(opts, itms.first, conf)), itms.total < opts.items.visible + c && $cfs.children().slice(0, opts.items.visible + c - itms.total).clone(!0).appendTo($cfs); var d = $cfs.children(), h = gi_getOldItemsNext(d, opts), i = gi_getNewItemsNext(d, opts, c), j = d.eq(c - 1), k = h.last(), l = i.last(); sz_resetMargin(d, opts); var m = 0, n = 0; if (opts.align) { var o = cf_getAlignPadding(i, opts); m = o[0], n = o[1] } var p = !1, q = $(); if (c > opts.items.visibleConf.old && (q = d.slice(opts.items.visibleConf.old, c), "directscroll" == b.fx)) { var r = opts.items[opts.d.width]; p = q, j = k, sc_hideHiddenItems(p), opts.items[opts.d.width] = "variable" } var s = !1, t = ms_getTotalSize(d.slice(0, c), opts, "width"), u = cf_mapWrapperSizes(ms_getSizes(i, opts, !0), opts, !opts.usePadding), v = 0, w = {}, x = {}, y = {}, z = {}, A = {}, B = sc_getDuration(b, opts, c, t); switch (b.fx) { case "uncover": case "uncover-fade": v = ms_getTotalSize(d.slice(0, opts.items.visibleConf.old), opts, "width") } p && (opts.items[opts.d.width] = r), opts.align && 0 > opts.padding[opts.d[1]] && (opts.padding[opts.d[1]] = 0), sz_resetMargin(d, opts, !0), sz_resetMargin(k, opts, opts.padding[opts.d[1]]), opts.align && (opts.padding[opts.d[1]] = n, opts.padding[opts.d[3]] = m), A[opts.d.left] = opts.usePadding ? opts.padding[opts.d[3]] : 0; var C = function () { }, D = function () { }, E = function () { }, F = function () { }, G = function () { }, H = function () { }, I = function () { }, J = function () { }, K = function () { }; switch (b.fx) { case "crossfade": case "cover": case "cover-fade": case "uncover": case "uncover-fade": s = $cfs.clone(!0).appendTo($wrp), s.children().slice(opts.items.visibleConf.old).remove() } switch (b.fx) { case "crossfade": case "cover": case "cover-fade": $cfs.css("zIndex", 1), s.css("zIndex", 0) } if (scrl = sc_setScroll(B, b.easing, conf), w[opts.d.left] = -t, x[opts.d.left] = -v, 0 > m && (w[opts.d.left] += m), ("variable" == opts[opts.d.width] || "variable" == opts[opts.d.height]) && (C = function () { $wrp.css(u) }, D = function () { scrl.anims.push([$wrp, u]) }), opts.usePadding) { var L = l.data("_cfs_origCssMargin"); n >= 0 && (L += opts.padding[opts.d[1]]), l.css(opts.d.marginRight, L), j.not(k).length && (z[opts.d.marginRight] = k.data("_cfs_origCssMargin")), E = function () { k.css(z) }, F = function () { scrl.anims.push([k, z]) }; var M = j.data("_cfs_origCssMargin"); m > 0 && (M += opts.padding[opts.d[3]]), y[opts.d.marginRight] = M, G = function () { j.css(y) }, H = function () { scrl.anims.push([j, y]) } } K = function () { $cfs.css(A) }; var N = opts.items.visible + c - itms.total; J = function () { N > 0 && $cfs.children().slice(itms.total).remove(); var a = $cfs.children().slice(0, c).appendTo($cfs).last(); if (N > 0 && (i = gi_getCurrentItems(d, opts)), sc_showHiddenItems(p), opts.usePadding) { if (itms.total < opts.items.visible + c) { var b = $cfs.children().eq(opts.items.visible - 1); b.css(opts.d.marginRight, b.data("_cfs_origCssMargin") + opts.padding[opts.d[1]]) } a.css(opts.d.marginRight, a.data("_cfs_origCssMargin")) } }; var O = sc_mapCallbackArguments(h, q, i, c, "next", B, u); switch (I = function () { $cfs.css("zIndex", $cfs.data("_cfs_origCssZindex")), sc_afterScroll($cfs, s, b), crsl.isScrolling = !1, clbk.onAfter = sc_fireCallbacks($tt0, b, "onAfter", O, clbk), queu = sc_fireQueue($cfs, queu, conf), crsl.isPaused || $cfs.trigger(cf_e("play", conf)) }, crsl.isScrolling = !0, tmrs = sc_clearTimers(tmrs), clbk.onBefore = sc_fireCallbacks($tt0, b, "onBefore", O, clbk), b.fx) { case "none": $cfs.css(w), C(), E(), G(), K(), J(), I(); break; case "fade": scrl.anims.push([$cfs, { opacity: 0 }, function () { C(), E(), G(), K(), J(), scrl = sc_setScroll(B, b.easing, conf), scrl.anims.push([$cfs, { opacity: 1 }, I]), sc_startScroll(scrl, conf) }]); break; case "crossfade": $cfs.css({ opacity: 0 }), scrl.anims.push([s, { opacity: 0 }]), scrl.anims.push([$cfs, { opacity: 1 }, I]), D(), E(), G(), K(), J(); break; case "cover": $cfs.css(opts.d.left, $wrp[opts.d.width]()), scrl.anims.push([$cfs, A, I]), D(), E(), G(), J(); break; case "cover-fade": $cfs.css(opts.d.left, $wrp[opts.d.width]()), scrl.anims.push([s, { opacity: 0 }]), scrl.anims.push([$cfs, A, I]), D(), E(), G(), J(); break; case "uncover": scrl.anims.push([s, x, I]), D(), E(), G(), K(), J(); break; case "uncover-fade": $cfs.css({ opacity: 0 }), scrl.anims.push([$cfs, { opacity: 1 }]), scrl.anims.push([s, x, I]), D(), E(), G(), K(), J(); break; default: scrl.anims.push([$cfs, w, function () { K(), J(), I() }]), D(), F(), H() } return sc_startScroll(scrl, conf), cf_setCookie(opts.cookie, $cfs, conf), $cfs.trigger(cf_e("updatePageStatus", conf), [!1, u]), !0 }), $cfs.bind(cf_e("slideTo", conf), function (a, b, c, d, e, f, g) { a.stopPropagation(); var h = [b, c, d, e, f, g], i = ["string/number/object", "number", "boolean", "object", "string", "function"], j = cf_sortParams(h, i); return e = j[3], f = j[4], g = j[5], b = gn_getItemIndex(j[0], j[1], j[2], itms, $cfs), 0 == b ? !1 : (is_object(e) || (e = !1), "prev" != f && "next" != f && (f = opts.circular ? itms.total / 2 >= b ? "next" : "prev" : 0 == itms.first || itms.first > b ? "next" : "prev"), "prev" == f && (b = itms.total - b), $cfs.trigger(cf_e(f, conf), [e, b, g]), !0) }), $cfs.bind(cf_e("prevPage", conf), function (a, b, c) { a.stopPropagation(); var d = $cfs.triggerHandler(cf_e("currentPage", conf)); return $cfs.triggerHandler(cf_e("slideToPage", conf), [d - 1, b, "prev", c]) }), $cfs.bind(cf_e("nextPage", conf), function (a, b, c) { a.stopPropagation(); var d = $cfs.triggerHandler(cf_e("currentPage", conf)); return $cfs.triggerHandler(cf_e("slideToPage", conf), [d + 1, b, "next", c]) }), $cfs.bind(cf_e("slideToPage", conf), function (a, b, c, d, e) { a.stopPropagation(), is_number(b) || (b = $cfs.triggerHandler(cf_e("currentPage", conf))); var f = opts.pagination.items || opts.items.visible, g = Math.ceil(itms.total / f) - 1; return 0 > b && (b = g), b > g && (b = 0), $cfs.triggerHandler(cf_e("slideTo", conf), [b * f, 0, !0, c, d, e]) }), $cfs.bind(cf_e("jumpToStart", conf), function (a, b) { if (a.stopPropagation(), b = b ? gn_getItemIndex(b, 0, !0, itms, $cfs) : 0, b += itms.first, 0 != b) { if (itms.total > 0) for (; b > itms.total;) b -= itms.total; $cfs.prepend($cfs.children().slice(b, itms.total)) } return !0 }), $cfs.bind(cf_e("synchronise", conf), function (a, b) { if (a.stopPropagation(), b) b = cf_getSynchArr(b); else { if (!opts.synchronise) return debug(conf, "No carousel to synchronise."); b = opts.synchronise } for (var c = $cfs.triggerHandler(cf_e("currentPosition", conf)), d = !0, e = 0, f = b.length; f > e; e++) b[e][0].triggerHandler(cf_e("slideTo", conf), [c, b[e][3], !0]) || (d = !1); return d }), $cfs.bind(cf_e("queue", conf), function (a, b, c) { return a.stopPropagation(), is_function(b) ? b.call($tt0, queu) : is_array(b) ? queu = b : is_undefined(b) || queu.push([b, c]), queu }), $cfs.bind(cf_e("insertItem", conf), function (a, b, c, d, e) { a.stopPropagation(); var f = [b, c, d, e], g = ["string/object", "string/number/object", "boolean", "number"], h = cf_sortParams(f, g); if (b = h[0], c = h[1], d = h[2], e = h[3], is_object(b) && !is_jquery(b) ? b = $(b) : is_string(b) && (b = $(b)), !is_jquery(b) || 0 == b.length) return debug(conf, "Not a valid object."); is_undefined(c) && (c = "end"), sz_storeMargin(b, opts), sz_storeOrigCss(b); var i = c, j = "before"; "end" == c ? d ? (0 == itms.first ? (c = itms.total - 1, j = "after") : (c = itms.first, itms.first += b.length), 0 > c && (c = 0)) : (c = itms.total - 1, j = "after") : c = gn_getItemIndex(c, e, d, itms, $cfs); var k = $cfs.children().eq(c); return k.length ? k[j](b) : (debug(conf, "Correct insert-position not found! Appending item to the end."), $cfs.append(b)), "end" == i || d || itms.first > c && (itms.first += b.length), itms.total = $cfs.children().length, itms.first >= itms.total && (itms.first -= itms.total), $cfs.trigger(cf_e("updateSizes", conf)), $cfs.trigger(cf_e("linkAnchors", conf)), !0 }), $cfs.bind(cf_e("removeItem", conf), function (a, b, c, d) { a.stopPropagation(); var e = [b, c, d], f = ["string/number/object", "boolean", "number"], g = cf_sortParams(e, f); if (b = g[0], c = g[1], d = g[2], b instanceof $ && b.length > 1) return i = $(), b.each(function () { var e = $cfs.trigger(cf_e("removeItem", conf), [$(this), c, d]); e && (i = i.add(e)) }), i; if (is_undefined(b) || "end" == b) i = $cfs.children().last(); else { b = gn_getItemIndex(b, d, c, itms, $cfs); var i = $cfs.children().eq(b); i.length && itms.first > b && (itms.first -= i.length) } return i && i.length && (i.detach(), itms.total = $cfs.children().length, $cfs.trigger(cf_e("updateSizes", conf))), i }), $cfs.bind(cf_e("onBefore", conf) + " " + cf_e("onAfter", conf), function (a, b) { a.stopPropagation(); var c = a.type.slice(conf.events.prefix.length); return is_array(b) && (clbk[c] = b), is_function(b) && clbk[c].push(b), clbk[c] }), $cfs.bind(cf_e("currentPosition", conf), function (a, b) { if (a.stopPropagation(), 0 == itms.first) var c = 0; else var c = itms.total - itms.first; return is_function(b) && b.call($tt0, c), c }), $cfs.bind(cf_e("currentPage", conf), function (a, b) { a.stopPropagation(); var e, c = opts.pagination.items || opts.items.visible, d = Math.ceil(itms.total / c - 1); return e = 0 == itms.first ? 0 : itms.first < itms.total % c ? 0 : itms.first != c || opts.circular ? Math.round((itms.total - itms.first) / c) : d, 0 > e && (e = 0), e > d && (e = d), is_function(b) && b.call($tt0, e), e }), $cfs.bind(cf_e("currentVisible", conf), function (a, b) { a.stopPropagation(); var c = gi_getCurrentItems($cfs.children(), opts); return is_function(b) && b.call($tt0, c), c }), $cfs.bind(cf_e("slice", conf), function (a, b, c, d) { if (a.stopPropagation(), 0 == itms.total) return !1; var e = [b, c, d], f = ["number", "number", "function"], g = cf_sortParams(e, f); if (b = is_number(g[0]) ? g[0] : 0, c = is_number(g[1]) ? g[1] : itms.total, d = g[2], b += itms.first, c += itms.first, items.total > 0) { for (; b > itms.total;) b -= itms.total; for (; c > itms.total;) c -= itms.total; for (; 0 > b;) b += itms.total; for (; 0 > c;) c += itms.total } var i, h = $cfs.children(); return i = c > b ? h.slice(b, c) : $(h.slice(b, itms.total).get().concat(h.slice(0, c).get())), is_function(d) && d.call($tt0, i), i }), $cfs.bind(cf_e("isPaused", conf) + " " + cf_e("isStopped", conf) + " " + cf_e("isScrolling", conf), function (a, b) { a.stopPropagation(); var c = a.type.slice(conf.events.prefix.length), d = crsl[c]; return is_function(b) && b.call($tt0, d), d }), $cfs.bind(cf_e("configuration", conf), function (e, a, b, c) { e.stopPropagation(); var reInit = !1; if (is_function(a)) a.call($tt0, opts); else if (is_object(a)) opts_orig = $.extend(!0, {}, opts_orig, a), b !== !1 ? reInit = !0 : opts = $.extend(!0, {}, opts, a); else if (!is_undefined(a)) if (is_function(b)) { var val = eval("opts." + a); is_undefined(val) && (val = ""), b.call($tt0, val) } else { if (is_undefined(b)) return eval("opts." + a); "boolean" != typeof c && (c = !0), eval("opts_orig." + a + " = b"), c !== !1 ? reInit = !0 : eval("opts." + a + " = b") } if (reInit) { sz_resetMargin($cfs.children(), opts), FN._init(opts_orig), FN._bind_buttons(); var sz = sz_setSizes($cfs, opts); $cfs.trigger(cf_e("updatePageStatus", conf), [!0, sz]) } return opts }), $cfs.bind(cf_e("linkAnchors", conf), function (a, b, c) { return a.stopPropagation(), is_undefined(b) ? b = $("body") : is_string(b) && (b = $(b)), is_jquery(b) && 0 != b.length ? (is_string(c) || (c = "a.caroufredsel"), b.find(c).each(function () { var a = this.hash || ""; a.length > 0 && -1 != $cfs.children().index($(a)) && $(this).unbind("click").click(function (b) { b.preventDefault(), $cfs.trigger(cf_e("slideTo", conf), a) }) }), !0) : debug(conf, "Not a valid object.") }), $cfs.bind(cf_e("updatePageStatus", conf), function (a, b) { if (a.stopPropagation(), opts.pagination.container) { var d = opts.pagination.items || opts.items.visible, e = Math.ceil(itms.total / d); b && (opts.pagination.anchorBuilder && (opts.pagination.container.children().remove(), opts.pagination.container.each(function () { for (var a = 0; e > a; a++) { var b = $cfs.children().eq(gn_getItemIndex(a * d, 0, !0, itms, $cfs)); $(this).append(opts.pagination.anchorBuilder.call(b[0], a + 1)) } })), opts.pagination.container.each(function () { $(this).children().unbind(opts.pagination.event).each(function (a) { $(this).bind(opts.pagination.event, function (b) { b.preventDefault(), $cfs.trigger(cf_e("slideTo", conf), [a * d, -opts.pagination.deviation, !0, opts.pagination]) }) }) })); var f = $cfs.triggerHandler(cf_e("currentPage", conf)) + opts.pagination.deviation; return f >= e && (f = 0), 0 > f && (f = e - 1), opts.pagination.container.each(function () { $(this).children().removeClass(cf_c("selected", conf)).eq(f).addClass(cf_c("selected", conf)) }), !0 } }), $cfs.bind(cf_e("updateSizes", conf), function () { var b = opts.items.visible, c = $cfs.children(), d = ms_getParentSize($wrp, opts, "width"); if (itms.total = c.length, crsl.primarySizePercentage ? (opts.maxDimension = d, opts[opts.d.width] = ms_getPercentage(d, crsl.primarySizePercentage)) : opts.maxDimension = ms_getMaxDimension(opts, d), opts.responsive ? (opts.items.width = opts.items.sizesConf.width, opts.items.height = opts.items.sizesConf.height, opts = in_getResponsiveValues(opts, c, d), b = opts.items.visible, sz_setResponsiveSizes(opts, c)) : opts.items.visibleConf.variable ? b = gn_getVisibleItemsNext(c, opts, 0) : "*" != opts.items.filter && (b = gn_getVisibleItemsNextFilter(c, opts, 0)), !opts.circular && 0 != itms.first && b > itms.first) { if (opts.items.visibleConf.variable) var e = gn_getVisibleItemsPrev(c, opts, itms.first) - itms.first; else if ("*" != opts.items.filter) var e = gn_getVisibleItemsPrevFilter(c, opts, itms.first) - itms.first; else var e = opts.items.visible - itms.first; debug(conf, "Preventing non-circular: sliding " + e + " items backward."), $cfs.trigger(cf_e("prev", conf), e) } opts.items.visible = cf_getItemsAdjust(b, opts, opts.items.visibleConf.adjust, $tt0), opts.items.visibleConf.old = opts.items.visible, opts = in_getAlignPadding(opts, c); var f = sz_setSizes($cfs, opts); return $cfs.trigger(cf_e("updatePageStatus", conf), [!0, f]), nv_showNavi(opts, itms.total, conf), nv_enableNavi(opts, itms.first, conf), f }), $cfs.bind(cf_e("destroy", conf), function (a, b) { return a.stopPropagation(), tmrs = sc_clearTimers(tmrs), $cfs.data("_cfs_isCarousel", !1), $cfs.trigger(cf_e("finish", conf)), b && $cfs.trigger(cf_e("jumpToStart", conf)), sz_restoreOrigCss($cfs.children()), sz_restoreOrigCss($cfs), FN._unbind_events(), FN._unbind_buttons(), "parent" == conf.wrapper ? sz_restoreOrigCss($wrp) : $wrp.replaceWith($cfs), !0 }), $cfs.bind(cf_e("debug", conf), function () { return debug(conf, "Carousel width: " + opts.width), debug(conf, "Carousel height: " + opts.height), debug(conf, "Item widths: " + opts.items.width), debug(conf, "Item heights: " + opts.items.height), debug(conf, "Number of items visible: " + opts.items.visible), opts.auto.play && debug(conf, "Number of items scrolled automatically: " + opts.auto.items), opts.prev.button && debug(conf, "Number of items scrolled backward: " + opts.prev.items), opts.next.button && debug(conf, "Number of items scrolled forward: " + opts.next.items), conf.debug }), $cfs.bind("_cfs_triggerEvent", function (a, b, c) { return a.stopPropagation(), $cfs.triggerHandler(cf_e(b, conf), c) })
        }, FN._unbind_events = function () { $cfs.unbind(cf_e("", conf)), $cfs.unbind(cf_e("", conf, !1)), $cfs.unbind("_cfs_triggerEvent") }, FN._bind_buttons = function () { if (FN._unbind_buttons(), nv_showNavi(opts, itms.total, conf), nv_enableNavi(opts, itms.first, conf), opts.auto.pauseOnHover) { var a = bt_pauseOnHoverConfig(opts.auto.pauseOnHover); $wrp.bind(cf_e("mouseenter", conf, !1), function () { $cfs.trigger(cf_e("pause", conf), a) }).bind(cf_e("mouseleave", conf, !1), function () { $cfs.trigger(cf_e("resume", conf)) }) } if (opts.auto.button && opts.auto.button.bind(cf_e(opts.auto.event, conf, !1), function (a) { a.preventDefault(); var b = !1, c = null; crsl.isPaused ? b = "play" : opts.auto.pauseOnEvent && (b = "pause", c = bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)), b && $cfs.trigger(cf_e(b, conf), c) }), opts.prev.button && (opts.prev.button.bind(cf_e(opts.prev.event, conf, !1), function (a) { a.preventDefault(), $cfs.trigger(cf_e("prev", conf)) }), opts.prev.pauseOnHover)) { var a = bt_pauseOnHoverConfig(opts.prev.pauseOnHover); opts.prev.button.bind(cf_e("mouseenter", conf, !1), function () { $cfs.trigger(cf_e("pause", conf), a) }).bind(cf_e("mouseleave", conf, !1), function () { $cfs.trigger(cf_e("resume", conf)) }) } if (opts.next.button && (opts.next.button.bind(cf_e(opts.next.event, conf, !1), function (a) { a.preventDefault(), $cfs.trigger(cf_e("next", conf)) }), opts.next.pauseOnHover)) { var a = bt_pauseOnHoverConfig(opts.next.pauseOnHover); opts.next.button.bind(cf_e("mouseenter", conf, !1), function () { $cfs.trigger(cf_e("pause", conf), a) }).bind(cf_e("mouseleave", conf, !1), function () { $cfs.trigger(cf_e("resume", conf)) }) } if (opts.pagination.container && opts.pagination.pauseOnHover) { var a = bt_pauseOnHoverConfig(opts.pagination.pauseOnHover); opts.pagination.container.bind(cf_e("mouseenter", conf, !1), function () { $cfs.trigger(cf_e("pause", conf), a) }).bind(cf_e("mouseleave", conf, !1), function () { $cfs.trigger(cf_e("resume", conf)) }) } if ((opts.prev.key || opts.next.key) && $(document).bind(cf_e("keyup", conf, !1, !0, !0), function (a) { var b = a.keyCode; b == opts.next.key && (a.preventDefault(), $cfs.trigger(cf_e("next", conf))), b == opts.prev.key && (a.preventDefault(), $cfs.trigger(cf_e("prev", conf))) }), opts.pagination.keys && $(document).bind(cf_e("keyup", conf, !1, !0, !0), function (a) { var b = a.keyCode; b >= 49 && 58 > b && (b = (b - 49) * opts.items.visible, itms.total >= b && (a.preventDefault(), $cfs.trigger(cf_e("slideTo", conf), [b, 0, !0, opts.pagination]))) }), $.fn.swipe) { var b = "ontouchstart" in window; if (b && opts.swipe.onTouch || !b && opts.swipe.onMouse) { var c = $.extend(!0, {}, opts.prev, opts.swipe), d = $.extend(!0, {}, opts.next, opts.swipe), e = function () { $cfs.trigger(cf_e("prev", conf), [c]) }, f = function () { $cfs.trigger(cf_e("next", conf), [d]) }; switch (opts.direction) { case "up": case "down": opts.swipe.options.swipeUp = f, opts.swipe.options.swipeDown = e; break; default: opts.swipe.options.swipeLeft = f, opts.swipe.options.swipeRight = e } crsl.swipe && $cfs.swipe("destroy"), $wrp.swipe(opts.swipe.options), $wrp.css("cursor", "move"), crsl.swipe = !0 } } if ($.fn.mousewheel && opts.mousewheel) { var g = $.extend(!0, {}, opts.prev, opts.mousewheel), h = $.extend(!0, {}, opts.next, opts.mousewheel); crsl.mousewheel && $wrp.unbind(cf_e("mousewheel", conf, !1)), $wrp.bind(cf_e("mousewheel", conf, !1), function (a, b) { a.preventDefault(), b > 0 ? $cfs.trigger(cf_e("prev", conf), [g]) : $cfs.trigger(cf_e("next", conf), [h]) }), crsl.mousewheel = !0 } if (opts.auto.play && $cfs.trigger(cf_e("play", conf), opts.auto.delay), crsl.upDateOnWindowResize) { var i = function () { $cfs.trigger(cf_e("finish", conf)), opts.auto.pauseOnResize && !crsl.isPaused && $cfs.trigger(cf_e("play", conf)), sz_resetMargin($cfs.children(), opts), $cfs.trigger(cf_e("updateSizes", conf)) }, j = $(window), k = null; if ($.debounce && "debounce" == conf.onWindowResize) k = $.debounce(200, i); else if ($.throttle && "throttle" == conf.onWindowResize) k = $.throttle(300, i); else { var l = 0, m = 0; k = function () { var a = j.width(), b = j.height(); (a != l || b != m) && (i(), l = a, m = b) } } j.bind(cf_e("resize", conf, !1, !0, !0), k) } }, FN._unbind_buttons = function () { var b = (cf_e("", conf), cf_e("", conf, !1)); ns3 = cf_e("", conf, !1, !0, !0), $(document).unbind(ns3), $(window).unbind(ns3), $wrp.unbind(b), opts.auto.button && opts.auto.button.unbind(b), opts.prev.button && opts.prev.button.unbind(b), opts.next.button && opts.next.button.unbind(b), opts.pagination.container && (opts.pagination.container.unbind(b), opts.pagination.anchorBuilder && opts.pagination.container.children().remove()), crsl.swipe && ($cfs.swipe("destroy"), $wrp.css("cursor", "default"), crsl.swipe = !1), crsl.mousewheel && (crsl.mousewheel = !1), nv_showNavi(opts, "hide", conf), nv_enableNavi(opts, "removeClass", conf) }, is_boolean(configs) && (configs = { debug: configs }); var crsl = { direction: "next", isPaused: !0, isScrolling: !1, isStopped: !1, mousewheel: !1, swipe: !1 }, itms = { total: $cfs.children().length, first: 0 }, tmrs = { auto: null, progress: null, startTime: getTime(), timePassed: 0 }, scrl = { isStopped: !1, duration: 0, startTime: 0, easing: "", anims: [] }, clbk = { onBefore: [], onAfter: [] }, queu = [], conf = $.extend(!0, {}, $.fn.carouFredSel.configs, configs), opts = {}, opts_orig = $.extend(!0, {}, options), $wrp = "parent" == conf.wrapper ? $cfs.parent() : $cfs.wrap("<" + conf.wrapper.element + ' class="' + conf.wrapper.classname + '" />').parent(); if (conf.selector = $cfs.selector, conf.serialNumber = $.fn.carouFredSel.serialNumber++, conf.transition = conf.transition && $.fn.transition ? "transition" : "animate", FN._init(opts_orig, !0, starting_position), FN._build(), FN._bind_events(), FN._bind_buttons(), is_array(opts.items.start)) var start_arr = opts.items.start; else { var start_arr = []; 0 != opts.items.start && start_arr.push(opts.items.start) } if (opts.cookie && start_arr.unshift(parseInt(cf_getCookie(opts.cookie), 10)), start_arr.length > 0) for (var a = 0, l = start_arr.length; l > a; a++) { var s = start_arr[a]; if (0 != s) { if (s === !0) { if (s = window.location.hash, 1 > s.length) continue } else "random" === s && (s = Math.floor(Math.random() * itms.total)); if ($cfs.triggerHandler(cf_e("slideTo", conf), [s, 0, !0, { fx: "none" }])) break } } var siz = sz_setSizes($cfs, opts), itm = gi_getCurrentItems($cfs.children(), opts); return opts.onCreate && opts.onCreate.call($tt0, { width: siz.width, height: siz.height, items: itm }), $cfs.trigger(cf_e("updatePageStatus", conf), [!0, siz]), $cfs.trigger(cf_e("linkAnchors", conf)), conf.debug && $cfs.trigger(cf_e("debug", conf)), $cfs
    }, $.fn.carouFredSel.serialNumber = 1, $.fn.carouFredSel.defaults = { synchronise: !1, infinite: !0, circular: !0, responsive: !1, direction: "left", items: { start: 0 }, scroll: { easing: "swing", duration: 500, pauseOnHover: !1, event: "click", queue: !1 } }, $.fn.carouFredSel.configs = { debug: !1, transition: !1, onWindowResize: "throttle", events: { prefix: "", namespace: "cfs" }, wrapper: { element: "div", classname: "caroufredsel_wrapper" }, classnames: {} }, $.fn.carouFredSel.pageAnchorBuilder = function (a) { return '<a href="#"><span>' + a + "</span></a>" }, $.fn.carouFredSel.progressbarUpdater = function (a) { $(this).css("width", a + "%") }, $.fn.carouFredSel.cookie = { get: function (a) { a += "="; for (var b = document.cookie.split(";"), c = 0, d = b.length; d > c; c++) { for (var e = b[c]; " " == e.charAt(0) ;) e = e.slice(1); if (0 == e.indexOf(a)) return e.slice(a.length) } return 0 }, set: function (a, b, c) { var d = ""; if (c) { var e = new Date; e.setTime(e.getTime() + 1e3 * 60 * 60 * 24 * c), d = "; expires=" + e.toGMTString() } document.cookie = a + "=" + b + d + "; path=/" }, remove: function (a) { $.fn.carouFredSel.cookie.set(a, "", -1) } }, $.extend($.easing, { quadratic: function (a) { var b = a * a; return a * (-b * a + 4 * b - 6 * a + 4) }, cubic: function (a) { return a * (4 * a * a - 9 * a + 6) }, elastic: function (a) { var b = a * a; return a * (33 * b * b - 106 * b * a + 126 * b - 67 * a + 15) } }))
})(jQuery);


/* == jquery mousewheel plugin == Version: 3.1.11, License: MIT License (MIT) */
!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a : a(jQuery) }(function (a) { function b(b) { var g = b || window.event, h = i.call(arguments, 1), j = 0, l = 0, m = 0, n = 0, o = 0, p = 0; if (b = a.event.fix(g), b.type = "mousewheel", "detail" in g && (m = -1 * g.detail), "wheelDelta" in g && (m = g.wheelDelta), "wheelDeltaY" in g && (m = g.wheelDeltaY), "wheelDeltaX" in g && (l = -1 * g.wheelDeltaX), "axis" in g && g.axis === g.HORIZONTAL_AXIS && (l = -1 * m, m = 0), j = 0 === m ? l : m, "deltaY" in g && (m = -1 * g.deltaY, j = m), "deltaX" in g && (l = g.deltaX, 0 === m && (j = -1 * l)), 0 !== m || 0 !== l) { if (1 === g.deltaMode) { var q = a.data(this, "mousewheel-line-height"); j *= q, m *= q, l *= q } else if (2 === g.deltaMode) { var r = a.data(this, "mousewheel-page-height"); j *= r, m *= r, l *= r } if (n = Math.max(Math.abs(m), Math.abs(l)), (!f || f > n) && (f = n, d(g, n) && (f /= 40)), d(g, n) && (j /= 40, l /= 40, m /= 40), j = Math[j >= 1 ? "floor" : "ceil"](j / f), l = Math[l >= 1 ? "floor" : "ceil"](l / f), m = Math[m >= 1 ? "floor" : "ceil"](m / f), k.settings.normalizeOffset && this.getBoundingClientRect) { var s = this.getBoundingClientRect(); o = b.clientX - s.left, p = b.clientY - s.top } return b.deltaX = l, b.deltaY = m, b.deltaFactor = f, b.offsetX = o, b.offsetY = p, b.deltaMode = 0, h.unshift(b, j, l, m), e && clearTimeout(e), e = setTimeout(c, 200), (a.event.dispatch || a.event.handle).apply(this, h) } } function c() { f = null } function d(a, b) { return k.settings.adjustOldDeltas && "mousewheel" === a.type && b % 120 === 0 } var e, f, g = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], h = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], i = Array.prototype.slice; if (a.event.fixHooks) for (var j = g.length; j;) a.event.fixHooks[g[--j]] = a.event.mouseHooks; var k = a.event.special.mousewheel = { version: "3.1.11", setup: function () { if (this.addEventListener) for (var c = h.length; c;) this.addEventListener(h[--c], b, !1); else this.onmousewheel = b; a.data(this, "mousewheel-line-height", k.getLineHeight(this)), a.data(this, "mousewheel-page-height", k.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var c = h.length; c;) this.removeEventListener(h[--c], b, !1); else this.onmousewheel = null; a.removeData(this, "mousewheel-line-height"), a.removeData(this, "mousewheel-page-height") }, getLineHeight: function (b) { var c = a(b)["offsetParent" in a.fn ? "offsetParent" : "parent"](); return c.length || (c = a("body")), parseInt(c.css("fontSize"), 10) }, getPageHeight: function (b) { return a(b).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; a.fn.extend({ mousewheel: function (a) { return a ? this.bind("mousewheel", a) : this.trigger("mousewheel") }, unmousewheel: function (a) { return this.unbind("mousewheel", a) } }) });


/*
* touchSwipe - jQuery Plugin
* https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* http://labs.skinkers.com/touchSwipe/
* http://plugins.jquery.com/project/touchSwipe
*
* Copyright (c) 2010 Matt Bryson (www.skinkers.com)
* Dual licensed under the MIT or GPL Version 2 licenses.
*
* $version: 1.3.3
*/

(function (g) { function P(c) { if (c && void 0 === c.allowPageScroll && (void 0 !== c.swipe || void 0 !== c.swipeStatus)) c.allowPageScroll = G; c || (c = {}); c = g.extend({}, g.fn.swipe.defaults, c); return this.each(function () { var b = g(this), f = b.data(w); f || (f = new W(this, c), b.data(w, f)) }) } function W(c, b) { var f, p, r, s; function H(a) { var a = a.originalEvent, c, Q = n ? a.touches[0] : a; d = R; n ? h = a.touches.length : a.preventDefault(); i = 0; j = null; k = 0; !n || h === b.fingers || b.fingers === x ? (r = f = Q.pageX, s = p = Q.pageY, y = (new Date).getTime(), b.swipeStatus && (c = l(a, d))) : t(a); if (!1 === c) return d = m, l(a, d), c; e.bind(I, J); e.bind(K, L) } function J(a) { a = a.originalEvent; if (!(d === q || d === m)) { var c, e = n ? a.touches[0] : a; f = e.pageX; p = e.pageY; u = (new Date).getTime(); j = S(); n && (h = a.touches.length); d = z; var e = a, g = j; if (b.allowPageScroll === G) e.preventDefault(); else { var o = b.allowPageScroll === T; switch (g) { case v: (b.swipeLeft && o || !o && b.allowPageScroll != M) && e.preventDefault(); break; case A: (b.swipeRight && o || !o && b.allowPageScroll != M) && e.preventDefault(); break; case B: (b.swipeUp && o || !o && b.allowPageScroll != N) && e.preventDefault(); break; case C: (b.swipeDown && o || !o && b.allowPageScroll != N) && e.preventDefault() } } h === b.fingers || b.fingers === x || !n ? (i = U(), k = u - y, b.swipeStatus && (c = l(a, d, j, i, k)), b.triggerOnTouchEnd || (e = !(b.maxTimeThreshold ? !(k >= b.maxTimeThreshold) : 1), !0 === D() ? (d = q, c = l(a, d)) : e && (d = m, l(a, d)))) : (d = m, l(a, d)); !1 === c && (d = m, l(a, d)) } } function L(a) { a = a.originalEvent; a.preventDefault(); u = (new Date).getTime(); i = U(); j = S(); k = u - y; if (b.triggerOnTouchEnd || !1 === b.triggerOnTouchEnd && d === z) if (d = q, (h === b.fingers || b.fingers === x || !n) && 0 !== f) { var c = !(b.maxTimeThreshold ? !(k >= b.maxTimeThreshold) : 1); if ((!0 === D() || null === D()) && !c) l(a, d); else if (c || !1 === D()) d = m, l(a, d) } else d = m, l(a, d); else d === z && (d = m, l(a, d)); e.unbind(I, J, !1); e.unbind(K, L, !1) } function t() { y = u = p = f = s = r = h = 0 } function l(a, c) { var d = void 0; b.swipeStatus && (d = b.swipeStatus.call(e, a, c, j || null, i || 0, k || 0, h)); if (c === m && b.click && (1 === h || !n) && (isNaN(i) || 0 === i)) d = b.click.call(e, a, a.target); if (c == q) switch (b.swipe && (d = b.swipe.call(e, a, j, i, k, h)), j) { case v: b.swipeLeft && (d = b.swipeLeft.call(e, a, j, i, k, h)); break; case A: b.swipeRight && (d = b.swipeRight.call(e, a, j, i, k, h)); break; case B: b.swipeUp && (d = b.swipeUp.call(e, a, j, i, k, h)); break; case C: b.swipeDown && (d = b.swipeDown.call(e, a, j, i, k, h)) } (c === m || c === q) && t(a); return d } function D() { return null !== b.threshold ? i >= b.threshold : null } function U() { return Math.round(Math.sqrt(Math.pow(f - r, 2) + Math.pow(p - s, 2))) } function S() { var a; a = Math.atan2(p - s, r - f); a = Math.round(180 * a / Math.PI); 0 > a && (a = 360 - Math.abs(a)); return 45 >= a && 0 <= a ? v : 360 >= a && 315 <= a ? v : 135 <= a && 225 >= a ? A : 45 < a && 135 > a ? C : B } function V() { e.unbind(E, H); e.unbind(F, t); e.unbind(I, J); e.unbind(K, L) } var O = n || !b.fallbackToMouseEvents, E = O ? "touchstart" : "mousedown", I = O ? "touchmove" : "mousemove", K = O ? "touchend" : "mouseup", F = "touchcancel", i = 0, j = null, k = 0, e = g(c), d = "start", h = 0, y = p = f = s = r = 0, u = 0; try { e.bind(E, H), e.bind(F, t) } catch (P) { g.error("events not supported " + E + "," + F + " on jQuery.swipe") } this.enable = function () { e.bind(E, H); e.bind(F, t); return e }; this.disable = function () { V(); return e }; this.destroy = function () { V(); e.data(w, null); return e } } var v = "left", A = "right", B = "up", C = "down", G = "none", T = "auto", M = "horizontal", N = "vertical", x = "all", R = "start", z = "move", q = "end", m = "cancel", n = "ontouchstart" in window, w = "TouchSwipe"; g.fn.swipe = function (c) { var b = g(this), f = b.data(w); if (f && "string" === typeof c) { if (f[c]) return f[c].apply(this, Array.prototype.slice.call(arguments, 1)); g.error("Method " + c + " does not exist on jQuery.swipe") } else if (!f && ("object" === typeof c || !c)) return P.apply(this, arguments); return b }; g.fn.swipe.defaults = { fingers: 1, threshold: 75, maxTimeThreshold: null, swipe: null, swipeLeft: null, swipeRight: null, swipeUp: null, swipeDown: null, swipeStatus: null, click: null, triggerOnTouchEnd: !0, allowPageScroll: "auto", fallbackToMouseEvents: !0 }; g.fn.swipe.phases = { PHASE_START: R, PHASE_MOVE: z, PHASE_END: q, PHASE_CANCEL: m }; g.fn.swipe.directions = { LEFT: v, RIGHT: A, UP: B, DOWN: C }; g.fn.swipe.pageScroll = { NONE: G, HORIZONTAL: M, VERTICAL: N, AUTO: T }; g.fn.swipe.fingers = { ONE: 1, TWO: 2, THREE: 3, ALL: x } })(jQuery);


/* == malihu jquery custom scrollbar plugin == Version: 3.0.4, License: MIT License (MIT) */
(function (b, a, c) { (function (d) { d(jQuery) }(function (j) { var g = "mCustomScrollbar", d = "mCS", m = ".mCustomScrollbar", h = { setWidth: false, setHeight: false, setTop: 0, setLeft: 0, axis: "y", scrollbarPosition: "inside", scrollInertia: 950, autoDraggerLength: true, autoHideScrollbar: false, autoExpandScrollbar: false, alwaysShowScrollbar: 0, snapAmount: null, snapOffset: 0, mouseWheel: { enable: true, scrollAmount: "auto", axis: "y", preventDefault: false, deltaFactor: "auto", normalizeDelta: false, invert: false, disableOver: ["select", "option", "keygen", "datalist", "textarea"] }, scrollButtons: { enable: false, scrollType: "stepless", scrollAmount: "auto" }, keyboard: { enable: true, scrollType: "stepless", scrollAmount: "auto" }, contentTouchScroll: 25, advanced: { autoExpandHorizontalScroll: false, autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']", updateOnContentResize: true, updateOnImageLoad: true, updateOnSelectorChange: false }, theme: "light", callbacks: { onScrollStart: false, onScroll: false, onTotalScroll: false, onTotalScrollBack: false, whileScrolling: false, onTotalScrollOffset: 0, onTotalScrollBackOffset: 0, alwaysTriggerOffsets: true, onOverflowY: false, onOverflowX: false, onOverflowYNone: false, onOverflowXNone: false }, live: false, liveSelector: null }, l = 0, o = {}, f = function (p) { if (o[p]) { clearTimeout(o[p]); i._delete.call(null, o[p]) } }, k = (b.attachEvent && !b.addEventListener) ? 1 : 0, n = false, e = { init: function (q) { var q = j.extend(true, {}, h, q), p = i._selector.call(this); if (q.live) { var s = q.liveSelector || this.selector || m, r = j(s); if (q.live === "off") { f(s); return } o[s] = setTimeout(function () { r.mCustomScrollbar(q); if (q.live === "once" && r.length) { f(s) } }, 500) } else { f(s) } q.setWidth = (q.set_width) ? q.set_width : q.setWidth; q.setHeight = (q.set_height) ? q.set_height : q.setHeight; q.axis = (q.horizontalScroll) ? "x" : i._findAxis.call(null, q.axis); q.scrollInertia = q.scrollInertia > 0 && q.scrollInertia < 17 ? 17 : q.scrollInertia; if (typeof q.mouseWheel !== "object" && q.mouseWheel == true) { q.mouseWheel = { enable: true, scrollAmount: "auto", axis: "y", preventDefault: false, deltaFactor: "auto", normalizeDelta: false, invert: false } } q.mouseWheel.scrollAmount = !q.mouseWheelPixels ? q.mouseWheel.scrollAmount : q.mouseWheelPixels; q.mouseWheel.normalizeDelta = !q.advanced.normalizeMouseWheelDelta ? q.mouseWheel.normalizeDelta : q.advanced.normalizeMouseWheelDelta; q.scrollButtons.scrollType = i._findScrollButtonsType.call(null, q.scrollButtons.scrollType); i._theme.call(null, q); return j(p).each(function () { var u = j(this); if (!u.data(d)) { u.data(d, { idx: ++l, opt: q, scrollRatio: { y: null, x: null }, overflowed: null, contentReset: { y: null, x: null }, bindEvents: false, tweenRunning: false, sequential: {}, langDir: u.css("direction"), cbOffsets: null, trigger: null }); var w = u.data(d).opt, v = u.data("mcs-axis"), t = u.data("mcs-scrollbar-position"), x = u.data("mcs-theme"); if (v) { w.axis = v } if (t) { w.scrollbarPosition = t } if (x) { w.theme = x; i._theme.call(null, w) } i._pluginMarkup.call(this); e.update.call(null, u) } }) }, update: function (q) { var p = q || i._selector.call(this); return j(p).each(function () { var t = j(this); if (t.data(d)) { var v = t.data(d), u = v.opt, r = j("#mCSB_" + v.idx + "_container"), s = [j("#mCSB_" + v.idx + "_dragger_vertical"), j("#mCSB_" + v.idx + "_dragger_horizontal")]; if (!r.length) { return } if (v.tweenRunning) { i._stop.call(null, t) } if (t.hasClass("mCS_disabled")) { t.removeClass("mCS_disabled") } if (t.hasClass("mCS_destroyed")) { t.removeClass("mCS_destroyed") } i._maxHeight.call(this); i._expandContentHorizontally.call(this); if (u.axis !== "y" && !u.advanced.autoExpandHorizontalScroll) { r.css("width", i._contentWidth(r.children())) } v.overflowed = i._overflowed.call(this); i._scrollbarVisibility.call(this); if (u.autoDraggerLength) { i._setDraggerLength.call(this) } i._scrollRatio.call(this); i._bindEvents.call(this); var w = [Math.abs(r[0].offsetTop), Math.abs(r[0].offsetLeft)]; if (u.axis !== "x") { if (!v.overflowed[0]) { i._resetContentPosition.call(this); if (u.axis === "y") { i._unbindEvents.call(this) } else { if (u.axis === "yx" && v.overflowed[1]) { i._scrollTo.call(this, t, w[1].toString(), { dir: "x", dur: 0, overwrite: "none" }) } } } else { if (s[0].height() > s[0].parent().height()) { i._resetContentPosition.call(this) } else { i._scrollTo.call(this, t, w[0].toString(), { dir: "y", dur: 0, overwrite: "none" }); v.contentReset.y = null } } } if (u.axis !== "y") { if (!v.overflowed[1]) { i._resetContentPosition.call(this); if (u.axis === "x") { i._unbindEvents.call(this) } else { if (u.axis === "yx" && v.overflowed[0]) { i._scrollTo.call(this, t, w[0].toString(), { dir: "y", dur: 0, overwrite: "none" }) } } } else { if (s[1].width() > s[1].parent().width()) { i._resetContentPosition.call(this) } else { i._scrollTo.call(this, t, w[1].toString(), { dir: "x", dur: 0, overwrite: "none" }); v.contentReset.x = null } } } i._autoUpdate.call(this) } }) }, scrollTo: function (r, q) { if (typeof r == "undefined" || r == null) { return } var p = i._selector.call(this); return j(p).each(function () { var u = j(this); if (u.data(d)) { var x = u.data(d), w = x.opt, v = { trigger: "external", scrollInertia: w.scrollInertia, scrollEasing: "mcsEaseInOut", moveDragger: false, timeout: 60, callbacks: true, onStart: true, onUpdate: true, onComplete: true }, s = j.extend(true, {}, v, q), y = i._arr.call(this, r), t = s.scrollInertia > 0 && s.scrollInertia < 17 ? 17 : s.scrollInertia; y[0] = i._to.call(this, y[0], "y"); y[1] = i._to.call(this, y[1], "x"); if (s.moveDragger) { y[0] *= x.scrollRatio.y; y[1] *= x.scrollRatio.x } s.dur = t; setTimeout(function () { if (y[0] !== null && typeof y[0] !== "undefined" && w.axis !== "x" && x.overflowed[0]) { s.dir = "y"; s.overwrite = "all"; i._scrollTo.call(this, u, y[0].toString(), s) } if (y[1] !== null && typeof y[1] !== "undefined" && w.axis !== "y" && x.overflowed[1]) { s.dir = "x"; s.overwrite = "none"; i._scrollTo.call(this, u, y[1].toString(), s) } }, s.timeout) } }) }, stop: function () { var p = i._selector.call(this); return j(p).each(function () { var q = j(this); if (q.data(d)) { i._stop.call(null, q) } }) }, disable: function (q) { var p = i._selector.call(this); return j(p).each(function () { var r = j(this); if (r.data(d)) { var t = r.data(d), s = t.opt; i._autoUpdate.call(this, "remove"); i._unbindEvents.call(this); if (q) { i._resetContentPosition.call(this) } i._scrollbarVisibility.call(this, true); r.addClass("mCS_disabled") } }) }, destroy: function () { var p = i._selector.call(this); return j(p).each(function () { var s = j(this); if (s.data(d)) { var u = s.data(d), t = u.opt, q = j("#mCSB_" + u.idx), r = j("#mCSB_" + u.idx + "_container"), v = j(".mCSB_" + u.idx + "_scrollbar"); if (t.live) { f(p) } i._autoUpdate.call(this, "remove"); i._unbindEvents.call(this); i._resetContentPosition.call(this); s.removeData(d); i._delete.call(null, this.mcs); v.remove(); q.replaceWith(r.contents()); s.removeClass(g + " _" + d + "_" + u.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed") } }) } }, i = { _selector: function () { return (typeof j(this) !== "object" || j(this).length < 1) ? m : this }, _theme: function (s) { var r = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"], q = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"], p = ["minimal", "minimal-dark"], u = ["minimal", "minimal-dark"], t = ["minimal", "minimal-dark"]; s.autoDraggerLength = j.inArray(s.theme, r) > -1 ? false : s.autoDraggerLength; s.autoExpandScrollbar = j.inArray(s.theme, q) > -1 ? false : s.autoExpandScrollbar; s.scrollButtons.enable = j.inArray(s.theme, p) > -1 ? false : s.scrollButtons.enable; s.autoHideScrollbar = j.inArray(s.theme, u) > -1 ? true : s.autoHideScrollbar; s.scrollbarPosition = j.inArray(s.theme, t) > -1 ? "outside" : s.scrollbarPosition }, _findAxis: function (p) { return (p === "yx" || p === "xy" || p === "auto") ? "yx" : (p === "x" || p === "horizontal") ? "x" : "y" }, _findScrollButtonsType: function (p) { return (p === "stepped" || p === "pixels" || p === "step" || p === "click") ? "stepped" : "stepless" }, _pluginMarkup: function () { var y = j(this), x = y.data(d), r = x.opt, t = r.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "", B = ["<div id='mCSB_" + x.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + x.idx + "_scrollbar mCS-" + r.theme + " mCSB_scrollTools_vertical" + t + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + x.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + x.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + x.idx + "_scrollbar mCS-" + r.theme + " mCSB_scrollTools_horizontal" + t + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + x.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"], u = r.axis === "yx" ? "mCSB_vertical_horizontal" : r.axis === "x" ? "mCSB_horizontal" : "mCSB_vertical", w = r.axis === "yx" ? B[0] + B[1] : r.axis === "x" ? B[1] : B[0], v = r.axis === "yx" ? "<div id='mCSB_" + x.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "", s = r.autoHideScrollbar ? " mCS-autoHide" : "", p = (r.axis !== "x" && x.langDir === "rtl") ? " mCS-dir-rtl" : ""; if (r.setWidth) { y.css("width", r.setWidth) } if (r.setHeight) { y.css("height", r.setHeight) } r.setLeft = (r.axis !== "y" && x.langDir === "rtl") ? "989999px" : r.setLeft; y.addClass(g + " _" + d + "_" + x.idx + s + p).wrapInner("<div id='mCSB_" + x.idx + "' class='mCustomScrollBox mCS-" + r.theme + " " + u + "'><div id='mCSB_" + x.idx + "_container' class='mCSB_container' style='position:relative; top:" + r.setTop + "; left:" + r.setLeft + ";' dir=" + x.langDir + " /></div>"); var q = j("#mCSB_" + x.idx), z = j("#mCSB_" + x.idx + "_container"); if (r.axis !== "y" && !r.advanced.autoExpandHorizontalScroll) { z.css("width", i._contentWidth(z.children())) } if (r.scrollbarPosition === "outside") { if (y.css("position") === "static") { y.css("position", "relative") } y.css("overflow", "visible"); q.addClass("mCSB_outside").after(w) } else { q.addClass("mCSB_inside").append(w); z.wrap(v) } i._scrollButtons.call(this); var A = [j("#mCSB_" + x.idx + "_dragger_vertical"), j("#mCSB_" + x.idx + "_dragger_horizontal")]; A[0].css("min-height", A[0].height()); A[1].css("min-width", A[1].width()) }, _contentWidth: function (p) { return Math.max.apply(Math, p.map(function () { return j(this).outerWidth(true) }).get()) }, _expandContentHorizontally: function () { var q = j(this), s = q.data(d), r = s.opt, p = j("#mCSB_" + s.idx + "_container"); if (r.advanced.autoExpandHorizontalScroll && r.axis !== "y") { p.css({ position: "absolute", width: "auto" }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({ width: (Math.ceil(p[0].getBoundingClientRect().right + 0.4) - Math.floor(p[0].getBoundingClientRect().left)), position: "relative" }).unwrap() } }, _scrollButtons: function () { var s = j(this), u = s.data(d), t = u.opt, q = j(".mCSB_" + u.idx + "_scrollbar:first"), r = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"], p = [(t.axis === "x" ? r[2] : r[0]), (t.axis === "x" ? r[3] : r[1]), r[2], r[3]]; if (t.scrollButtons.enable) { q.prepend(p[0]).append(p[1]).next(".mCSB_scrollTools").prepend(p[2]).append(p[3]) } }, _maxHeight: function () { var t = j(this), w = t.data(d), v = w.opt, r = j("#mCSB_" + w.idx), q = t.css("max-height"), s = q.indexOf("%") !== -1, p = t.css("box-sizing"); if (q !== "none") { var u = s ? t.parent().height() * parseInt(q) / 100 : parseInt(q); if (p === "border-box") { u -= ((t.innerHeight() - t.height()) + (t.outerHeight() - t.innerHeight())) } r.css("max-height", Math.round(u)) } }, _setDraggerLength: function () { var u = j(this), s = u.data(d), p = j("#mCSB_" + s.idx), v = j("#mCSB_" + s.idx + "_container"), y = [j("#mCSB_" + s.idx + "_dragger_vertical"), j("#mCSB_" + s.idx + "_dragger_horizontal")], t = [p.height() / v.outerHeight(false), p.width() / v.outerWidth(false)], q = [parseInt(y[0].css("min-height")), Math.round(t[0] * y[0].parent().height()), parseInt(y[1].css("min-width")), Math.round(t[1] * y[1].parent().width())], r = k && (q[1] < q[0]) ? q[0] : q[1], x = k && (q[3] < q[2]) ? q[2] : q[3]; y[0].css({ height: r, "max-height": (y[0].parent().height() - 10) }).find(".mCSB_dragger_bar").css({ "line-height": q[0] + "px" }); y[1].css({ width: x, "max-width": (y[1].parent().width() - 10) }) }, _scrollRatio: function () { var t = j(this), v = t.data(d), q = j("#mCSB_" + v.idx), r = j("#mCSB_" + v.idx + "_container"), s = [j("#mCSB_" + v.idx + "_dragger_vertical"), j("#mCSB_" + v.idx + "_dragger_horizontal")], u = [r.outerHeight(false) - q.height(), r.outerWidth(false) - q.width()], p = [u[0] / (s[0].parent().height() - s[0].height()), u[1] / (s[1].parent().width() - s[1].width())]; v.scrollRatio = { y: p[0], x: p[1] } }, _onDragClasses: function (r, t, q) { var s = q ? "mCSB_dragger_onDrag_expanded" : "", p = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"], u = r.closest(".mCSB_scrollTools"); if (t === "active") { r.toggleClass(p[0] + " " + s); u.toggleClass(p[1]); r[0]._draggable = r[0]._draggable ? 0 : 1 } else { if (!r[0]._draggable) { if (t === "hide") { r.removeClass(p[0]); u.removeClass(p[1]) } else { r.addClass(p[0]); u.addClass(p[1]) } } } }, _overflowed: function () { var t = j(this), u = t.data(d), q = j("#mCSB_" + u.idx), s = j("#mCSB_" + u.idx + "_container"), r = u.overflowed == null ? s.height() : s.outerHeight(false), p = u.overflowed == null ? s.width() : s.outerWidth(false); return [r > q.height(), p > q.width()] }, _resetContentPosition: function () { var t = j(this), v = t.data(d), u = v.opt, q = j("#mCSB_" + v.idx), r = j("#mCSB_" + v.idx + "_container"), s = [j("#mCSB_" + v.idx + "_dragger_vertical"), j("#mCSB_" + v.idx + "_dragger_horizontal")]; i._stop(t); if ((u.axis !== "x" && !v.overflowed[0]) || (u.axis === "y" && v.overflowed[0])) { s[0].add(r).css("top", 0); i._scrollTo(t, "_resetY") } if ((u.axis !== "y" && !v.overflowed[1]) || (u.axis === "x" && v.overflowed[1])) { var p = dx = 0; if (v.langDir === "rtl") { p = q.width() - r.outerWidth(false); dx = Math.abs(p / v.scrollRatio.x) } r.css("left", p); s[1].css("left", dx); i._scrollTo(t, "_resetX") } }, _bindEvents: function () { var r = j(this), t = r.data(d), s = t.opt; if (!t.bindEvents) { i._draggable.call(this); if (s.contentTouchScroll) { i._contentDraggable.call(this) } if (s.mouseWheel.enable) { function q() { p = setTimeout(function () { if (!j.event.special.mousewheel) { q() } else { clearTimeout(p); i._mousewheel.call(r[0]) } }, 1000) } var p; q() } i._draggerRail.call(this); i._wrapperScroll.call(this); if (s.advanced.autoScrollOnFocus) { i._focus.call(this) } if (s.scrollButtons.enable) { i._buttons.call(this) } if (s.keyboard.enable) { i._keyboard.call(this) } t.bindEvents = true } }, _unbindEvents: function () { var s = j(this), t = s.data(d), p = d + "_" + t.idx, u = ".mCSB_" + t.idx + "_scrollbar", r = j("#mCSB_" + t.idx + ",#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper," + u + " .mCSB_draggerContainer,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal," + u + ">a"), q = j("#mCSB_" + t.idx + "_container"); if (t.bindEvents) { j(a).unbind("." + p); r.each(function () { j(this).unbind("." + p) }); clearTimeout(s[0]._focusTimeout); i._delete.call(null, s[0]._focusTimeout); clearTimeout(t.sequential.step); i._delete.call(null, t.sequential.step); clearTimeout(q[0].onCompleteTimeout); i._delete.call(null, q[0].onCompleteTimeout); t.bindEvents = false } }, _scrollbarVisibility: function (q) { var t = j(this), v = t.data(d), u = v.opt, p = j("#mCSB_" + v.idx + "_container_wrapper"), r = p.length ? p : j("#mCSB_" + v.idx + "_container"), w = [j("#mCSB_" + v.idx + "_scrollbar_vertical"), j("#mCSB_" + v.idx + "_scrollbar_horizontal")], s = [w[0].find(".mCSB_dragger"), w[1].find(".mCSB_dragger")]; if (u.axis !== "x") { if (v.overflowed[0] && !q) { w[0].add(s[0]).add(w[0].children("a")).css("display", "block"); r.removeClass("mCS_no_scrollbar_y mCS_y_hidden") } else { if (u.alwaysShowScrollbar) { if (u.alwaysShowScrollbar !== 2) { s[0].add(w[0].children("a")).css("display", "none") } r.removeClass("mCS_y_hidden") } else { w[0].css("display", "none"); r.addClass("mCS_y_hidden") } r.addClass("mCS_no_scrollbar_y") } } if (u.axis !== "y") { if (v.overflowed[1] && !q) { w[1].add(s[1]).add(w[1].children("a")).css("display", "block"); r.removeClass("mCS_no_scrollbar_x mCS_x_hidden") } else { if (u.alwaysShowScrollbar) { if (u.alwaysShowScrollbar !== 2) { s[1].add(w[1].children("a")).css("display", "none") } r.removeClass("mCS_x_hidden") } else { w[1].css("display", "none"); r.addClass("mCS_x_hidden") } r.addClass("mCS_no_scrollbar_x") } } if (!v.overflowed[0] && !v.overflowed[1]) { t.addClass("mCS_no_scrollbar") } else { t.removeClass("mCS_no_scrollbar") } }, _coordinates: function (q) { var p = q.type; switch (p) { case "pointerdown": case "MSPointerDown": case "pointermove": case "MSPointerMove": case "pointerup": case "MSPointerUp": return [q.originalEvent.pageY, q.originalEvent.pageX]; break; case "touchstart": case "touchmove": case "touchend": var r = q.originalEvent.touches[0] || q.originalEvent.changedTouches[0]; return [r.pageY, r.pageX]; break; default: return [q.pageY, q.pageX] } }, _draggable: function () { var u = j(this), s = u.data(d), p = s.opt, r = d + "_" + s.idx, t = ["mCSB_" + s.idx + "_dragger_vertical", "mCSB_" + s.idx + "_dragger_horizontal"], v = j("#mCSB_" + s.idx + "_container"), w = j("#" + t[0] + ",#" + t[1]), A, y, z; w.bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r, function (E) { E.stopImmediatePropagation(); E.preventDefault(); if (!i._mouseBtnLeft(E)) { return } n = true; if (k) { a.onselectstart = function () { return false } } x(false); i._stop(u); A = j(this); var F = A.offset(), G = i._coordinates(E)[0] - F.top, B = i._coordinates(E)[1] - F.left, D = A.height() + F.top, C = A.width() + F.left; if (G < D && G > 0 && B < C && B > 0) { y = G; z = B } i._onDragClasses(A, "active", p.autoExpandScrollbar) }).bind("touchmove." + r, function (C) { C.stopImmediatePropagation(); C.preventDefault(); var D = A.offset(), E = i._coordinates(C)[0] - D.top, B = i._coordinates(C)[1] - D.left; q(y, z, E, B) }); j(a).bind("mousemove." + r + " pointermove." + r + " MSPointerMove." + r, function (C) { if (A) { var D = A.offset(), E = i._coordinates(C)[0] - D.top, B = i._coordinates(C)[1] - D.left; if (y === E) { return } q(y, z, E, B) } }).add(w).bind("mouseup." + r + " touchend." + r + " pointerup." + r + " MSPointerUp." + r, function (B) { if (A) { i._onDragClasses(A, "active", p.autoExpandScrollbar); A = null } n = false; if (k) { a.onselectstart = null } x(true) }); function x(B) { var C = v.find("iframe"); if (!C.length) { return } var D = !B ? "none" : "auto"; C.css("pointer-events", D) } function q(D, E, G, B) { v[0].idleTimer = p.scrollInertia < 233 ? 250 : 0; if (A.attr("id") === t[1]) { var C = "x", F = ((A[0].offsetLeft - E) + B) * s.scrollRatio.x } else { var C = "y", F = ((A[0].offsetTop - D) + G) * s.scrollRatio.y } i._scrollTo(u, F.toString(), { dir: C, drag: true }) } }, _contentDraggable: function () { var y = j(this), K = y.data(d), I = K.opt, F = d + "_" + K.idx, v = j("#mCSB_" + K.idx), z = j("#mCSB_" + K.idx + "_container"), w = [j("#mCSB_" + K.idx + "_dragger_vertical"), j("#mCSB_" + K.idx + "_dragger_horizontal")], E, G, L, M, C = [], D = [], H, A, u, t, J, x, r = 0, q, s = I.axis === "yx" ? "none" : "all"; z.bind("touchstart." + F + " pointerdown." + F + " MSPointerDown." + F, function (N) { if (!i._pointerTouch(N) || n) { return } var O = z.offset(); E = i._coordinates(N)[0] - O.top; G = i._coordinates(N)[1] - O.left }).bind("touchmove." + F + " pointermove." + F + " MSPointerMove." + F, function (Q) { if (!i._pointerTouch(Q) || n) { return } Q.stopImmediatePropagation(); A = i._getTime(); var P = v.offset(), S = i._coordinates(Q)[0] - P.top, U = i._coordinates(Q)[1] - P.left, R = "mcsLinearOut"; C.push(S); D.push(U); if (K.overflowed[0]) { var O = w[0].parent().height() - w[0].height(), T = ((E - S) > 0 && (S - E) > -(O * K.scrollRatio.y)) } if (K.overflowed[1]) { var N = w[1].parent().width() - w[1].width(), V = ((G - U) > 0 && (U - G) > -(N * K.scrollRatio.x)) } if (T || V) { Q.preventDefault() } x = I.axis === "yx" ? [(E - S), (G - U)] : I.axis === "x" ? [null, (G - U)] : [(E - S), null]; z[0].idleTimer = 250; if (K.overflowed[0]) { B(x[0], r, R, "y", "all", true) } if (K.overflowed[1]) { B(x[1], r, R, "x", s, true) } }); v.bind("touchstart." + F + " pointerdown." + F + " MSPointerDown." + F, function (N) { if (!i._pointerTouch(N) || n) { return } N.stopImmediatePropagation(); i._stop(y); H = i._getTime(); var O = v.offset(); L = i._coordinates(N)[0] - O.top; M = i._coordinates(N)[1] - O.left; C = []; D = [] }).bind("touchend." + F + " pointerup." + F + " MSPointerUp." + F, function (P) { if (!i._pointerTouch(P) || n) { return } P.stopImmediatePropagation(); u = i._getTime(); var N = v.offset(), T = i._coordinates(P)[0] - N.top, V = i._coordinates(P)[1] - N.left; if ((u - A) > 30) { return } J = 1000 / (u - H); var Q = "mcsEaseOut", R = J < 2.5, W = R ? [C[C.length - 2], D[D.length - 2]] : [0, 0]; t = R ? [(T - W[0]), (V - W[1])] : [T - L, V - M]; var O = [Math.abs(t[0]), Math.abs(t[1])]; J = R ? [Math.abs(t[0] / 4), Math.abs(t[1] / 4)] : [J, J]; var U = [Math.abs(z[0].offsetTop) - (t[0] * p((O[0] / J[0]), J[0])), Math.abs(z[0].offsetLeft) - (t[1] * p((O[1] / J[1]), J[1]))]; x = I.axis === "yx" ? [U[0], U[1]] : I.axis === "x" ? [null, U[1]] : [U[0], null]; q = [(O[0] * 4) + I.scrollInertia, (O[1] * 4) + I.scrollInertia]; var S = parseInt(I.contentTouchScroll) || 0; x[0] = O[0] > S ? x[0] : 0; x[1] = O[1] > S ? x[1] : 0; if (K.overflowed[0]) { B(x[0], q[0], Q, "y", s, false) } if (K.overflowed[1]) { B(x[1], q[1], Q, "x", s, false) } }); function p(P, N) { var O = [N * 1.5, N * 2, N / 1.5, N / 2]; if (P > 90) { return N > 4 ? O[0] : O[3] } else { if (P > 60) { return N > 3 ? O[3] : O[2] } else { if (P > 30) { return N > 8 ? O[1] : N > 6 ? O[0] : N > 4 ? N : O[2] } else { return N > 8 ? N : O[3] } } } } function B(P, R, S, O, N, Q) { if (!P) { return } i._scrollTo(y, P.toString(), { dur: R, scrollEasing: S, dir: O, overwrite: N, drag: Q }) } }, _mousewheel: function () { var w = j(this), v = w.data(d); if (v) { var p = v.opt, s = d + "_" + v.idx, q = j("#mCSB_" + v.idx), x = [j("#mCSB_" + v.idx + "_dragger_vertical"), j("#mCSB_" + v.idx + "_dragger_horizontal")], t = j("#mCSB_" + v.idx + "_container").find("iframe"), r = q; if (t.length) { t.each(function () { var y = this; if (u(y)) { r = r.add(j(y).contents().find("body")) } }) } r.bind("mousewheel." + s, function (C, G) { i._stop(w); if (i._disableMousewheel(w, C.target)) { return } var E = p.mouseWheel.deltaFactor !== "auto" ? parseInt(p.mouseWheel.deltaFactor) : (k && C.deltaFactor < 100) ? 100 : C.deltaFactor || 100; if (p.axis === "x" || p.mouseWheel.axis === "x") { var z = "x", F = [Math.round(E * v.scrollRatio.x), parseInt(p.mouseWheel.scrollAmount)], B = p.mouseWheel.scrollAmount !== "auto" ? F[1] : F[0] >= q.width() ? q.width() * 0.9 : F[0], H = Math.abs(j("#mCSB_" + v.idx + "_container")[0].offsetLeft), D = x[1][0].offsetLeft, A = x[1].parent().width() - x[1].width(), y = C.deltaX || C.deltaY || G } else { var z = "y", F = [Math.round(E * v.scrollRatio.y), parseInt(p.mouseWheel.scrollAmount)], B = p.mouseWheel.scrollAmount !== "auto" ? F[1] : F[0] >= q.height() ? q.height() * 0.9 : F[0], H = Math.abs(j("#mCSB_" + v.idx + "_container")[0].offsetTop), D = x[0][0].offsetTop, A = x[0].parent().height() - x[0].height(), y = C.deltaY || G } if ((z === "y" && !v.overflowed[0]) || (z === "x" && !v.overflowed[1])) { return } if (p.mouseWheel.invert) { y = -y } if (p.mouseWheel.normalizeDelta) { y = y < 0 ? -1 : 1 } if ((y > 0 && D !== 0) || (y < 0 && D !== A) || p.mouseWheel.preventDefault) { C.stopImmediatePropagation(); C.preventDefault() } i._scrollTo(w, (H - (y * B)).toString(), { dir: z }) }) } function u(z) { var y = null; try { var B = z.contentDocument || z.contentWindow.document; y = B.body.innerHTML } catch (A) { } return (y !== null) } }, _disableMousewheel: function (r, t) { var p = t.nodeName.toLowerCase(), q = r.data(d).opt.mouseWheel.disableOver, s = ["select", "textarea"]; return j.inArray(p, q) > -1 && !(j.inArray(p, s) > -1 && !j(t).is(":focus")) }, _draggerRail: function () { var s = j(this), t = s.data(d), q = d + "_" + t.idx, r = j("#mCSB_" + t.idx + "_container"), u = r.parent(), p = j(".mCSB_" + t.idx + "_scrollbar .mCSB_draggerContainer"); p.bind("touchstart." + q + " pointerdown." + q + " MSPointerDown." + q, function (v) { n = true }).bind("touchend." + q + " pointerup." + q + " MSPointerUp." + q, function (v) { n = false }).bind("click." + q, function (z) { if (j(z.target).hasClass("mCSB_draggerContainer") || j(z.target).hasClass("mCSB_draggerRail")) { i._stop(s); var w = j(this), y = w.find(".mCSB_dragger"); if (w.parent(".mCSB_scrollTools_horizontal").length > 0) { if (!t.overflowed[1]) { return } var v = "x", x = z.pageX > y.offset().left ? -1 : 1, A = Math.abs(r[0].offsetLeft) - (x * (u.width() * 0.9)) } else { if (!t.overflowed[0]) { return } var v = "y", x = z.pageY > y.offset().top ? -1 : 1, A = Math.abs(r[0].offsetTop) - (x * (u.height() * 0.9)) } i._scrollTo(s, A.toString(), { dir: v, scrollEasing: "mcsEaseInOut" }) } }) }, _focus: function () { var r = j(this), t = r.data(d), s = t.opt, p = d + "_" + t.idx, q = j("#mCSB_" + t.idx + "_container"), u = q.parent(); q.bind("focusin." + p, function (x) { var w = j(a.activeElement), y = q.find(".mCustomScrollBox").length, v = 0; if (!w.is(s.advanced.autoScrollOnFocus)) { return } i._stop(r); clearTimeout(r[0]._focusTimeout); r[0]._focusTimer = y ? (v + 17) * y : 0; r[0]._focusTimeout = setTimeout(function () { var C = [w.offset().top - q.offset().top, w.offset().left - q.offset().left], B = [q[0].offsetTop, q[0].offsetLeft], z = [(B[0] + C[0] >= 0 && B[0] + C[0] < u.height() - w.outerHeight(false)), (B[1] + C[1] >= 0 && B[0] + C[1] < u.width() - w.outerWidth(false))], A = (s.axis === "yx" && !z[0] && !z[1]) ? "none" : "all"; if (s.axis !== "x" && !z[0]) { i._scrollTo(r, C[0].toString(), { dir: "y", scrollEasing: "mcsEaseInOut", overwrite: A, dur: v }) } if (s.axis !== "y" && !z[1]) { i._scrollTo(r, C[1].toString(), { dir: "x", scrollEasing: "mcsEaseInOut", overwrite: A, dur: v }) } }, r[0]._focusTimer) }) }, _wrapperScroll: function () { var q = j(this), r = q.data(d), p = d + "_" + r.idx, s = j("#mCSB_" + r.idx + "_container").parent(); s.bind("scroll." + p, function (t) { s.scrollTop(0).scrollLeft(0) }) }, _buttons: function () { var u = j(this), w = u.data(d), v = w.opt, p = w.sequential, r = d + "_" + w.idx, t = j("#mCSB_" + w.idx + "_container"), s = ".mCSB_" + w.idx + "_scrollbar", q = j(s + ">a"); q.bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r + " mouseup." + r + " touchend." + r + " pointerup." + r + " MSPointerUp." + r + " mouseout." + r + " pointerout." + r + " MSPointerOut." + r + " click." + r, function (z) { z.preventDefault(); if (!i._mouseBtnLeft(z)) { return } var y = j(this).attr("class"); p.type = v.scrollButtons.scrollType; switch (z.type) { case "mousedown": case "touchstart": case "pointerdown": case "MSPointerDown": if (p.type === "stepped") { return } n = true; w.tweenRunning = false; x("on", y); break; case "mouseup": case "touchend": case "pointerup": case "MSPointerUp": case "mouseout": case "pointerout": case "MSPointerOut": if (p.type === "stepped") { return } n = false; if (p.dir) { x("off", y) } break; case "click": if (p.type !== "stepped" || w.tweenRunning) { return } x("on", y); break } function x(A, B) { p.scrollAmount = v.snapAmount || v.scrollButtons.scrollAmount; i._sequentialScroll.call(this, u, A, B) } }) }, _keyboard: function () { var u = j(this), t = u.data(d), q = t.opt, x = t.sequential, s = d + "_" + t.idx, r = j("#mCSB_" + t.idx), w = j("#mCSB_" + t.idx + "_container"), p = w.parent(), v = "input,textarea,select,datalist,keygen,[contenteditable='true']"; r.attr("tabindex", "0").bind("blur." + s + " keydown." + s + " keyup." + s, function (D) { switch (D.type) { case "blur": if (t.tweenRunning && x.dir) { y("off", null) } break; case "keydown": case "keyup": var A = D.keyCode ? D.keyCode : D.which, B = "on"; if ((q.axis !== "x" && (A === 38 || A === 40)) || (q.axis !== "y" && (A === 37 || A === 39))) { if (((A === 38 || A === 40) && !t.overflowed[0]) || ((A === 37 || A === 39) && !t.overflowed[1])) { return } if (D.type === "keyup") { B = "off" } if (!j(a.activeElement).is(v)) { D.preventDefault(); D.stopImmediatePropagation(); y(B, A) } } else { if (A === 33 || A === 34) { if (t.overflowed[0] || t.overflowed[1]) { D.preventDefault(); D.stopImmediatePropagation() } if (D.type === "keyup") { i._stop(u); var C = A === 34 ? -1 : 1; if (q.axis === "x" || (q.axis === "yx" && t.overflowed[1] && !t.overflowed[0])) { var z = "x", E = Math.abs(w[0].offsetLeft) - (C * (p.width() * 0.9)) } else { var z = "y", E = Math.abs(w[0].offsetTop) - (C * (p.height() * 0.9)) } i._scrollTo(u, E.toString(), { dir: z, scrollEasing: "mcsEaseInOut" }) } } else { if (A === 35 || A === 36) { if (!j(a.activeElement).is(v)) { if (t.overflowed[0] || t.overflowed[1]) { D.preventDefault(); D.stopImmediatePropagation() } if (D.type === "keyup") { if (q.axis === "x" || (q.axis === "yx" && t.overflowed[1] && !t.overflowed[0])) { var z = "x", E = A === 35 ? Math.abs(p.width() - w.outerWidth(false)) : 0 } else { var z = "y", E = A === 35 ? Math.abs(p.height() - w.outerHeight(false)) : 0 } i._scrollTo(u, E.toString(), { dir: z, scrollEasing: "mcsEaseInOut" }) } } } } } break } function y(F, G) { x.type = q.keyboard.scrollType; x.scrollAmount = q.snapAmount || q.keyboard.scrollAmount; if (x.type === "stepped" && t.tweenRunning) { return } i._sequentialScroll.call(this, u, F, G) } }) }, _sequentialScroll: function (r, u, s) { var w = r.data(d), q = w.opt, y = w.sequential, x = j("#mCSB_" + w.idx + "_container"), p = y.type === "stepped" ? true : false; switch (u) { case "on": y.dir = [(s === "mCSB_buttonRight" || s === "mCSB_buttonLeft" || s === 39 || s === 37 ? "x" : "y"), (s === "mCSB_buttonUp" || s === "mCSB_buttonLeft" || s === 38 || s === 37 ? -1 : 1)]; i._stop(r); if (i._isNumeric(s) && y.type === "stepped") { return } t(p); break; case "off": v(); if (p || (w.tweenRunning && y.dir)) { t(true) } break } function t(z) { var F = y.type !== "stepped", J = !z ? 1000 / 60 : F ? q.scrollInertia / 1.5 : q.scrollInertia, B = !z ? 2.5 : F ? 7.5 : 40, I = [Math.abs(x[0].offsetTop), Math.abs(x[0].offsetLeft)], E = [w.scrollRatio.y > 10 ? 10 : w.scrollRatio.y, w.scrollRatio.x > 10 ? 10 : w.scrollRatio.x], C = y.dir[0] === "x" ? I[1] + (y.dir[1] * (E[1] * B)) : I[0] + (y.dir[1] * (E[0] * B)), H = y.dir[0] === "x" ? I[1] + (y.dir[1] * parseInt(y.scrollAmount)) : I[0] + (y.dir[1] * parseInt(y.scrollAmount)), G = y.scrollAmount !== "auto" ? H : C, D = !z ? "mcsLinear" : F ? "mcsLinearOut" : "mcsEaseInOut", A = !z ? false : true; if (z && J < 17) { G = y.dir[0] === "x" ? I[1] : I[0] } i._scrollTo(r, G.toString(), { dir: y.dir[0], scrollEasing: D, dur: J, onComplete: A }); if (z) { y.dir = false; return } clearTimeout(y.step); y.step = setTimeout(function () { t() }, J) } function v() { clearTimeout(y.step); i._stop(r) } }, _arr: function (r) { var q = j(this).data(d).opt, p = []; if (typeof r === "function") { r = r() } if (!(r instanceof Array)) { p[0] = r.y ? r.y : r.x || q.axis === "x" ? null : r; p[1] = r.x ? r.x : r.y || q.axis === "y" ? null : r } else { p = r.length > 1 ? [r[0], r[1]] : q.axis === "x" ? [null, r[0]] : [r[0], null] } if (typeof p[0] === "function") { p[0] = p[0]() } if (typeof p[1] === "function") { p[1] = p[1]() } return p }, _to: function (v, w) { if (v == null || typeof v == "undefined") { return } var C = j(this), B = C.data(d), u = B.opt, D = j("#mCSB_" + B.idx + "_container"), r = D.parent(), F = typeof v; if (!w) { w = u.axis === "x" ? "x" : "y" } var q = w === "x" ? D.outerWidth(false) : D.outerHeight(false), x = w === "x" ? D.offset().left : D.offset().top, E = w === "x" ? D[0].offsetLeft : D[0].offsetTop, z = w === "x" ? "left" : "top"; switch (F) { case "function": return v(); break; case "object": if (v.nodeType) { var A = w === "x" ? j(v).offset().left : j(v).offset().top } else { if (v.jquery) { if (!v.length) { return } var A = w === "x" ? v.offset().left : v.offset().top } } return A - x; break; case "string": case "number": if (i._isNumeric.call(null, v)) { return Math.abs(v) } else { if (v.indexOf("%") !== -1) { return Math.abs(q * parseInt(v) / 100) } else { if (v.indexOf("-=") !== -1) { return Math.abs(E - parseInt(v.split("-=")[1])) } else { if (v.indexOf("+=") !== -1) { var s = (E + parseInt(v.split("+=")[1])); return s >= 0 ? 0 : Math.abs(s) } else { if (v.indexOf("px") !== -1 && i._isNumeric.call(null, v.split("px")[0])) { return Math.abs(v.split("px")[0]) } else { if (v === "top" || v === "left") { return 0 } else { if (v === "bottom") { return Math.abs(r.height() - D.outerHeight(false)) } else { if (v === "right") { return Math.abs(r.width() - D.outerWidth(false)) } else { if (v === "first" || v === "last") { var y = D.find(":" + v), A = w === "x" ? j(y).offset().left : j(y).offset().top; return A - x } else { if (j(v).length) { var A = w === "x" ? j(v).offset().left : j(v).offset().top; return A - x } else { D.css(z, v); e.update.call(null, C[0]); return } } } } } } } } } } break } }, _autoUpdate: function (q) { var t = j(this), F = t.data(d), z = F.opt, v = j("#mCSB_" + F.idx + "_container"); if (q) { clearTimeout(v[0].autoUpdate); i._delete.call(null, v[0].autoUpdate); return } var s = v.parent(), p = [j("#mCSB_" + F.idx + "_scrollbar_vertical"), j("#mCSB_" + F.idx + "_scrollbar_horizontal")], D = function () { return [p[0].is(":visible") ? p[0].outerHeight(true) : 0, p[1].is(":visible") ? p[1].outerWidth(true) : 0] }, E = y(), x, u = [v.outerHeight(false), v.outerWidth(false), s.height(), s.width(), D()[0], D()[1]], H, B = G(), w; C(); function C() { clearTimeout(v[0].autoUpdate); v[0].autoUpdate = setTimeout(function () { if (z.advanced.updateOnSelectorChange) { x = y(); if (x !== E) { r(); E = x; return } } if (z.advanced.updateOnContentResize) { H = [v.outerHeight(false), v.outerWidth(false), s.height(), s.width(), D()[0], D()[1]]; if (H[0] !== u[0] || H[1] !== u[1] || H[2] !== u[2] || H[3] !== u[3] || H[4] !== u[4] || H[5] !== u[5]) { r(); u = H } } if (z.advanced.updateOnImageLoad) { w = G(); if (w !== B) { v.find("img").each(function () { A(this.src) }); B = w } } if (z.advanced.updateOnSelectorChange || z.advanced.updateOnContentResize || z.advanced.updateOnImageLoad) { C() } }, 60) } function G() { var I = 0; if (z.advanced.updateOnImageLoad) { I = v.find("img").length } return I } function A(L) { var I = new Image(); function K(M, N) { return function () { return N.apply(M, arguments) } } function J() { this.onload = null; r() } I.onload = K(I, J); I.src = L } function y() { if (z.advanced.updateOnSelectorChange === true) { z.advanced.updateOnSelectorChange = "*" } var I = 0, J = v.find(z.advanced.updateOnSelectorChange); if (z.advanced.updateOnSelectorChange && J.length > 0) { J.each(function () { I += j(this).height() + j(this).width() }) } return I } function r() { clearTimeout(v[0].autoUpdate); e.update.call(null, t[0]) } }, _snapAmount: function (r, p, q) { return (Math.round(r / p) * p - q) }, _stop: function (p) { var r = p.data(d), q = j("#mCSB_" + r.idx + "_container,#mCSB_" + r.idx + "_container_wrapper,#mCSB_" + r.idx + "_dragger_vertical,#mCSB_" + r.idx + "_dragger_horizontal"); q.each(function () { i._stopTween.call(this) }) }, _scrollTo: function (q, s, u) { var I = q.data(d), E = I.opt, D = { trigger: "internal", dir: "y", scrollEasing: "mcsEaseOut", drag: false, dur: E.scrollInertia, overwrite: "all", callbacks: true, onStart: true, onUpdate: true, onComplete: true }, u = j.extend(D, u), G = [u.dur, (u.drag ? 0 : u.dur)], v = j("#mCSB_" + I.idx), B = j("#mCSB_" + I.idx + "_container"), K = E.callbacks.onTotalScrollOffset ? i._arr.call(q, E.callbacks.onTotalScrollOffset) : [0, 0], p = E.callbacks.onTotalScrollBackOffset ? i._arr.call(q, E.callbacks.onTotalScrollBackOffset) : [0, 0]; I.trigger = u.trigger; if (s === "_resetY" && !I.contentReset.y) { if (t("onOverflowYNone")) { E.callbacks.onOverflowYNone.call(q[0]) } I.contentReset.y = 1 } if (s === "_resetX" && !I.contentReset.x) { if (t("onOverflowXNone")) { E.callbacks.onOverflowXNone.call(q[0]) } I.contentReset.x = 1 } if (s === "_resetY" || s === "_resetX") { return } if ((I.contentReset.y || !q[0].mcs) && I.overflowed[0]) { if (t("onOverflowY")) { E.callbacks.onOverflowY.call(q[0]) } I.contentReset.x = null } if ((I.contentReset.x || !q[0].mcs) && I.overflowed[1]) { if (t("onOverflowX")) { E.callbacks.onOverflowX.call(q[0]) } I.contentReset.x = null } if (E.snapAmount) { s = i._snapAmount(s, E.snapAmount, E.snapOffset) } switch (u.dir) { case "x": var x = j("#mCSB_" + I.idx + "_dragger_horizontal"), z = "left", C = B[0].offsetLeft, H = [v.width() - B.outerWidth(false), x.parent().width() - x.width()], r = [s, s === 0 ? 0 : (s / I.scrollRatio.x)], L = K[1], J = p[1], A = L > 0 ? L / I.scrollRatio.x : 0, w = J > 0 ? J / I.scrollRatio.x : 0; break; case "y": var x = j("#mCSB_" + I.idx + "_dragger_vertical"), z = "top", C = B[0].offsetTop, H = [v.height() - B.outerHeight(false), x.parent().height() - x.height()], r = [s, s === 0 ? 0 : (s / I.scrollRatio.y)], L = K[0], J = p[0], A = L > 0 ? L / I.scrollRatio.y : 0, w = J > 0 ? J / I.scrollRatio.y : 0; break } if (r[1] < 0 || (r[0] === 0 && r[1] === 0)) { r = [0, 0] } else { if (r[1] >= H[1]) { r = [H[0], H[1]] } else { r[0] = -r[0] } } if (!q[0].mcs) { F() } clearTimeout(B[0].onCompleteTimeout); if (!I.tweenRunning && ((C === 0 && r[0] >= 0) || (C === H[0] && r[0] <= H[0]))) { return } i._tweenTo.call(null, x[0], z, Math.round(r[1]), G[1], u.scrollEasing); i._tweenTo.call(null, B[0], z, Math.round(r[0]), G[0], u.scrollEasing, u.overwrite, { onStart: function () { if (u.callbacks && u.onStart && !I.tweenRunning) { if (t("onScrollStart")) { F(); E.callbacks.onScrollStart.call(q[0]) } I.tweenRunning = true; i._onDragClasses(x); I.cbOffsets = y() } }, onUpdate: function () { if (u.callbacks && u.onUpdate) { if (t("whileScrolling")) { F(); E.callbacks.whileScrolling.call(q[0]) } } }, onComplete: function () { if (u.callbacks && u.onComplete) { if (E.axis === "yx") { clearTimeout(B[0].onCompleteTimeout) } var M = B[0].idleTimer || 0; B[0].onCompleteTimeout = setTimeout(function () { if (t("onScroll")) { F(); E.callbacks.onScroll.call(q[0]) } if (t("onTotalScroll") && r[1] >= H[1] - A && I.cbOffsets[0]) { F(); E.callbacks.onTotalScroll.call(q[0]) } if (t("onTotalScrollBack") && r[1] <= w && I.cbOffsets[1]) { F(); E.callbacks.onTotalScrollBack.call(q[0]) } I.tweenRunning = false; B[0].idleTimer = 0; i._onDragClasses(x, "hide") }, M) } } }); function t(M) { return I && E.callbacks[M] && typeof E.callbacks[M] === "function" } function y() { return [E.callbacks.alwaysTriggerOffsets || C >= H[0] + L, E.callbacks.alwaysTriggerOffsets || C <= -J] } function F() { var O = [B[0].offsetTop, B[0].offsetLeft], P = [x[0].offsetTop, x[0].offsetLeft], M = [B.outerHeight(false), B.outerWidth(false)], N = [v.height(), v.width()]; q[0].mcs = { content: B, top: O[0], left: O[1], draggerTop: P[0], draggerLeft: P[1], topPct: Math.round((100 * Math.abs(O[0])) / (Math.abs(M[0]) - N[0])), leftPct: Math.round((100 * Math.abs(O[1])) / (Math.abs(M[1]) - N[1])), direction: u.dir } } }, _tweenTo: function (r, u, s, q, B, t, K) { var K = K || {}, H = K.onStart || function () { }, C = K.onUpdate || function () { }, I = K.onComplete || function () { }, z = i._getTime(), x, v = 0, E = r.offsetTop, F = r.style, A; if (u === "left") { E = r.offsetLeft } var y = s - E; r._mcsstop = 0; if (t !== "none") { D() } p(); function J() { if (r._mcsstop) { return } if (!v) { H.call() } v = i._getTime() - z; G(); if (v >= r._mcstime) { r._mcstime = (v > r._mcstime) ? v + x - (v - r._mcstime) : v + x - 1; if (r._mcstime < v + 1) { r._mcstime = v + 1 } } if (r._mcstime < q) { r._mcsid = A(J) } else { I.call() } } function G() { if (q > 0) { r._mcscurrVal = w(r._mcstime, E, y, q, B); F[u] = Math.round(r._mcscurrVal) + "px" } else { F[u] = s + "px" } C.call() } function p() { x = 1000 / 60; r._mcstime = v + x; A = (!b.requestAnimationFrame) ? function (L) { G(); return setTimeout(L, 0.01) } : b.requestAnimationFrame; r._mcsid = A(J) } function D() { if (r._mcsid == null) { return } if (!b.requestAnimationFrame) { clearTimeout(r._mcsid) } else { b.cancelAnimationFrame(r._mcsid) } r._mcsid = null } function w(N, M, R, Q, O) { switch (O) { case "linear": case "mcsLinear": return R * N / Q + M; break; case "mcsLinearOut": N /= Q; N--; return R * Math.sqrt(1 - N * N) + M; break; case "easeInOutSmooth": N /= Q / 2; if (N < 1) { return R / 2 * N * N + M } N--; return -R / 2 * (N * (N - 2) - 1) + M; break; case "easeInOutStrong": N /= Q / 2; if (N < 1) { return R / 2 * Math.pow(2, 10 * (N - 1)) + M } N--; return R / 2 * (-Math.pow(2, -10 * N) + 2) + M; break; case "easeInOut": case "mcsEaseInOut": N /= Q / 2; if (N < 1) { return R / 2 * N * N * N + M } N -= 2; return R / 2 * (N * N * N + 2) + M; break; case "easeOutSmooth": N /= Q; N--; return -R * (N * N * N * N - 1) + M; break; case "easeOutStrong": return R * (-Math.pow(2, -10 * N / Q) + 1) + M; break; case "easeOut": case "mcsEaseOut": default: var P = (N /= Q) * N, L = P * N; return M + R * (0.499999999999997 * L * P + -2.5 * P * P + 5.5 * L + -6.5 * P + 4 * N) } } }, _getTime: function () { if (b.performance && b.performance.now) { return b.performance.now() } else { if (b.performance && b.performance.webkitNow) { return b.performance.webkitNow() } else { if (Date.now) { return Date.now() } else { return new Date().getTime() } } } }, _stopTween: function () { var p = this; if (p._mcsid == null) { return } if (!b.requestAnimationFrame) { clearTimeout(p._mcsid) } else { b.cancelAnimationFrame(p._mcsid) } p._mcsid = null; p._mcsstop = 1 }, _delete: function (r) { try { delete r } catch (q) { r = null } }, _mouseBtnLeft: function (p) { return !(p.which && p.which !== 1) }, _pointerTouch: function (q) { var p = q.originalEvent.pointerType; return !(p && p !== "touch" && p !== 2) }, _isNumeric: function (p) { return !isNaN(parseFloat(p)) && isFinite(p) } }; j.fn[g] = function (p) { if (e[p]) { return e[p].apply(this, Array.prototype.slice.call(arguments, 1)) } else { if (typeof p === "object" || !p) { return e.init.apply(this, arguments) } else { j.error("Method " + p + " does not exist") } } }; j[g] = function (p) { if (e[p]) { return e[p].apply(this, Array.prototype.slice.call(arguments, 1)) } else { if (typeof p === "object" || !p) { return e.init.apply(this, arguments) } else { j.error("Method " + p + " does not exist") } } }; j[g].defaults = h; b[g] = true; j(b).load(function () { j(m)[g]() }) })) }(window, document));